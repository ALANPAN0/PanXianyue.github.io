<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>dreamerpanda</title>
  <subtitle>Just do it !</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-06-22T07:30:02.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>panda</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>412_advanced_debugging_with_xcode_and_lldb</title>
    <link href="http://yoursite.com/2018/06/22/412-advanced-debugging-with-xcode-and-lldb/"/>
    <id>http://yoursite.com/2018/06/22/412-advanced-debugging-with-xcode-and-lldb/</id>
    <published>2018-06-22T07:26:12.000Z</published>
    <updated>2018-06-22T07:30:02.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;Swift_Debugging_Reliability&quot;&gt;&lt;a href=&quot;#Swift_Debugging_Reliability&quot; class=&quot;headerlink&quot; title=&quot;Swift Debugging Reliability&quot;&gt;&lt;/a&gt;Swift Debugging Reliability&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;â€œFailed to get module from AST contextâ€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295497017890.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Swift Type Resolution&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295501452601.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Advanced_Debugging_Tips_and_Tricks&quot;&gt;&lt;a href=&quot;#Advanced_Debugging_Tips_and_Tricks&quot; class=&quot;headerlink&quot; title=&quot;Advanced Debugging Tips and Tricks&quot;&gt;&lt;/a&gt;Advanced Debugging Tips and Tricks&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Configure behaviors to dedicate a tab for debugging&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295506731448.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LLDB expressions can modify program state&lt;/li&gt;
&lt;li&gt;Use auto-continuing breakpoints with debugger commands to inject code live&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295694361889.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create dependent breakpoints using â€œbreakpoint set â€“one-shot trueâ€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295701755619.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;â€œpo $arg1â€ ($arg2, etc) in assembly frames to print function arguments&lt;br&gt;&lt;img src=&quot;/images/15295696579538.jpg&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295698536326.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Skip lines of code by dragging Instruction Pointer or â€œthread jump â€“by 1â€ &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-164917@2x.png&quot; alt=&quot;QQ20180621-164917@2x&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295726476119.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pause when variables are modified by using watchpoints&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-172506@2x.png&quot; alt=&quot;QQ20180621-172506@2x&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-172633@2x.png&quot; alt=&quot;QQ20180621-172633@2x&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Evaluate Obj-C code in Swift frames with â€œexpression -l objc -O â€“ &lt;expr&gt;â€&lt;/expr&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-173209@2x.png&quot; alt=&quot;QQ20180621-173209@2x&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295736874414.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-173654@2x.png&quot; alt=&quot;QQ20180621-173654@2x&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Flush view changes to the screen using â€œexpression CATransaction.flush()â€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-174039@2x.png&quot; alt=&quot;QQ20180621-174039@2x&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Add custom LLDB commands using aliases and scripts. Alias examples:&lt;/p&gt;
&lt;p&gt;  &lt;code&gt;command alias poc expression -l objc -O --&lt;/code&gt;&lt;br&gt;  &lt;code&gt;command alias ğŸš½ expression -l objc -- (void)[CATransaction flush]&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-174324@2x.png&quot; alt=&quot;QQ20180621-174324@2x&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-174439@2x.png&quot; alt=&quot;QQ20180621-174439@2x&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295745542569.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;View_Debugging_Tips&quot;&gt;&lt;a href=&quot;#View_Debugging_Tips&quot; class=&quot;headerlink&quot; title=&quot;View Debugging Tips&quot;&gt;&lt;/a&gt;View Debugging Tips&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Reveal in Debug Navigator&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296489063252.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296490976830.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Auto Layout debugging&lt;br&gt;&lt;img src=&quot;/images/15296492114731.jpg&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296494979872.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;View clipped content&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296496689816.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296497100300.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Access object pointers (copy casted expressions)&lt;br&gt;&lt;img src=&quot;/images/15296497915091.jpg&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296499661595.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Creation backtraces in the inspector&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296519891986.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180622-144735@2x.png&quot; alt=&quot;QQ20180622-144735@2x&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180622-144817@2x.png&quot; alt=&quot;QQ20180622-144817@2x&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Debug description in the inspector&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296515396997.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;âŒ˜-click-through for selection &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296512007334.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Debugging_Dark_Mode&quot;&gt;&lt;a href=&quot;#Debugging_Dark_Mode&quot; class=&quot;headerlink&quot; title=&quot;Debugging Dark Mode&quot;&gt;&lt;/a&gt;Debugging Dark Mode&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Appearance overrides&lt;/li&gt;
&lt;li&gt;Capturing active Mac apps&lt;/li&gt;
&lt;li&gt;Named colors and NSAppearance details in inspector&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;More_Information&quot;&gt;&lt;a href=&quot;#More_Information&quot; class=&quot;headerlink&quot; title=&quot;More Information&quot;&gt;&lt;/a&gt;More Information&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://developer.apple.com/wwdc18/412&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://developer.apple.com/wwdc18/412&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Session 412&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Swift_Debugging_Reliability&quot;&gt;&lt;a href=&quot;#Swift_Debugging_Reliability&quot; class=&quot;headerlink&quot; title=&quot;Swift Debugging Reliability&quot;&gt;&lt;/a&gt;Swift Debugging Reliability&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;â€œFailed to get module from AST contextâ€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295497017890.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Swift Type Resolution&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295501452601.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Advanced_Debugging_Tips_and_Tricks&quot;&gt;&lt;a href=&quot;#Advanced_Debugging_Tips_and_Tricks&quot; class=&quot;headerlink&quot; title=&quot;Advanced Debugging Tips and Tricks&quot;&gt;&lt;/a&gt;Advanced Debugging Tips and Tricks&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Configure behaviors to dedicate a tab for debugging&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295506731448.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LLDB expressions can modify program state&lt;/li&gt;
&lt;li&gt;Use auto-continuing breakpoints with debugger commands to inject code live&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295694361889.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create dependent breakpoints using â€œbreakpoint set â€“one-shot trueâ€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295701755619.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;â€œpo $arg1â€ ($arg2, etc) in assembly frames to print function arguments&lt;br&gt;&lt;img src=&quot;/images/15295696579538.jpg&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295698536326.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Skip lines of code by dragging Instruction Pointer or â€œthread jump â€“by 1â€ &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-164917@2x.png&quot; alt=&quot;QQ20180621-164917@2x&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295726476119.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pause when variables are modified by using watchpoints&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-172506@2x.png&quot; alt=&quot;QQ20180621-172506@2x&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-172633@2x.png&quot; alt=&quot;QQ20180621-172633@2x&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Evaluate Obj-C code in Swift frames with â€œexpression -l objc -O â€“ &lt;expr&gt;â€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-173209@2x.png&quot; alt=&quot;QQ20180621-173209@2x&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295736874414.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-173654@2x.png&quot; alt=&quot;QQ20180621-173654@2x&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Flush view changes to the screen using â€œexpression CATransaction.flush()â€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-174039@2x.png&quot; alt=&quot;QQ20180621-174039@2x&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Add custom LLDB commands using aliases and scripts. Alias examples:&lt;/p&gt;
&lt;p&gt;  &lt;code&gt;command alias poc expression -l objc -O --&lt;/code&gt;&lt;br&gt;  &lt;code&gt;command alias ğŸš½ expression -l objc -- (void)[CATransaction flush]&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-174324@2x.png&quot; alt=&quot;QQ20180621-174324@2x&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180621-174439@2x.png&quot; alt=&quot;QQ20180621-174439@2x&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15295745542569.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;View_Debugging_Tips&quot;&gt;&lt;a href=&quot;#View_Debugging_Tips&quot; class=&quot;headerlink&quot; title=&quot;View Debugging Tips&quot;&gt;&lt;/a&gt;View Debugging Tips&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Reveal in Debug Navigator&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296489063252.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296490976830.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Auto Layout debugging&lt;br&gt;&lt;img src=&quot;/images/15296492114731.jpg&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296494979872.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;View clipped content&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296496689816.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296497100300.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Access object pointers (copy casted expressions)&lt;br&gt;&lt;img src=&quot;/images/15296497915091.jpg&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296499661595.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Creation backtraces in the inspector&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296519891986.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180622-144735@2x.png&quot; alt=&quot;QQ20180622-144735@2x&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180622-144817@2x.png&quot; alt=&quot;QQ20180622-144817@2x&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Debug description in the inspector&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296515396997.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;âŒ˜-click-through for selection &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/15296512007334.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Debugging_Dark_Mode&quot;&gt;&lt;a href=&quot;#Debugging_Dark_Mode&quot; class=&quot;headerlink&quot; title=&quot;Debugging Dark Mode&quot;&gt;&lt;/a&gt;Debugging Dark Mode&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Appearance overrides&lt;/li&gt;
&lt;li&gt;Capturing active Mac apps&lt;/li&gt;
&lt;li&gt;Named colors and NSAppearance details in inspector&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;More_Information&quot;&gt;&lt;a href=&quot;#More_Information&quot; class=&quot;headerlink&quot; title=&quot;More Information&quot;&gt;&lt;/a&gt;More Information&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://developer.apple.com/wwdc18/412&quot;&gt;https://developer.apple.com/wwdc18/412&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Session 412&lt;br&gt;
    
    </summary>
    
    
      <category term="WWDC" scheme="http://yoursite.com/tags/WWDC/"/>
    
  </entry>
  
  <entry>
    <title>Building Faster in Xcode</title>
    <link href="http://yoursite.com/2018/06/17/408-building-faster-in-xcode/"/>
    <id>http://yoursite.com/2018/06/17/408-building-faster-in-xcode/</id>
    <published>2018-06-17T12:09:54.000Z</published>
    <updated>2018-06-22T07:25:27.000Z</updated>
    
    <content type="html">&lt;p&gt;Session 408&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/Building%20Faster%20in%20Xcode_.png&quot; alt=&quot;Building Faster in Xcode_&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Parallelizing_Your_Build&quot;&gt;&lt;a href=&quot;#Parallelizing_Your_Build&quot; class=&quot;headerlink&quot; title=&quot;Parallelizing Your Build&quot;&gt;&lt;/a&gt;Parallelizing Your Build&lt;/h3&gt;&lt;h6 id=&quot;Xcode_u2019s_Targets_and_Dependencies&quot;&gt;&lt;a href=&quot;#Xcode_u2019s_Targets_and_Dependencies&quot; class=&quot;headerlink&quot; title=&quot;Xcodeâ€™s Targets and Dependencies&quot;&gt;&lt;/a&gt;Xcodeâ€™s Targets and Dependencies&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;Target specifies a product to build&lt;ul&gt;
&lt;li&gt;iOS App &lt;/li&gt;
&lt;li&gt;Framework&lt;/li&gt;
&lt;li&gt;Unit Tests&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Target dependency requires another target&lt;ul&gt;
&lt;li&gt;Explicit via Target Dependencies &lt;/li&gt;
&lt;li&gt;Implicit via Link Binary with Libraries&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&quot;Game_Dependency_Graph&quot;&gt;&lt;a href=&quot;#Game_Dependency_Graph&quot; class=&quot;headerlink&quot; title=&quot;Game Dependency Graph&quot;&gt;&lt;/a&gt;Game Dependency Graph&lt;/h6&gt;&lt;p&gt;&lt;img src=&quot;/images/QQ20180617-164649@2x.png&quot; alt=&quot;QQ20180617-164649@2x&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;List of all targets to build &lt;/li&gt;
&lt;li&gt;Dependency between targets&lt;/li&gt;
&lt;li&gt;Build order can be derived&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180617-165008@2x.png&quot; alt=&quot;QQ20180617-165008@2x&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180617-165142@2x.png&quot; alt=&quot;QQ20180617-165142@2x&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Amount of work did not change &lt;/li&gt;
&lt;li&gt;Time to build decreased &lt;/li&gt;
&lt;li&gt;Increased hardware utilization&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&quot;How_do_we_get_there_3F&quot;&gt;&lt;a href=&quot;#How_do_we_get_there_3F&quot; class=&quot;headerlink&quot; title=&quot;How do we get there?&quot;&gt;&lt;/a&gt;How do we get there?&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;edit scheme&lt;/li&gt;
&lt;li&gt;build&lt;/li&gt;
&lt;li&gt;build option&lt;ol&gt;
&lt;li&gt;Parallelize build&lt;/li&gt;
&lt;li&gt;Find implicit Dependencies&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&quot;Parallelized_Target_Build_Process&quot;&gt;&lt;a href=&quot;#Parallelized_Target_Build_Process&quot; class=&quot;headerlink&quot; title=&quot;Parallelized Target Build Process&quot;&gt;&lt;/a&gt;Parallelized Target Build Process&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;Compile sources can start earlier&lt;/li&gt;
&lt;li&gt;Waits only for what it needs &lt;/li&gt;
&lt;li&gt;Must wait for Run Script phases&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;Run_Script_Phases__28Reducing_the_work_on_rebuilds_29&quot;&gt;&lt;a href=&quot;#Run_Script_Phases__28Reducing_the_work_on_rebuilds_29&quot; class=&quot;headerlink&quot; title=&quot;Run Script Phases (Reducing the work on rebuilds)&quot;&gt;&lt;/a&gt;Run Script Phases (Reducing the work on rebuilds)&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;Allows you to customize your build process for your exact needs.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;/images/QQ20180617-174124@2x.png&quot; alt=&quot;QQ20180617-174124@2x&quot;&gt;&lt;/p&gt;
&lt;h6 id=&quot;File_Lists&quot;&gt;&lt;a href=&quot;#File_Lists&quot; class=&quot;headerlink&quot; title=&quot;File Lists&quot;&gt;&lt;/a&gt;File Lists&lt;/h6&gt;&lt;p&gt;&lt;img src=&quot;/images/QQ20180617-173229@2x.png&quot; alt=&quot;QQ20180617-173229@2x&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Newline separated&lt;/li&gt;
&lt;li&gt;Support for build setting variables &lt;/li&gt;
&lt;li&gt;Cannot be generated during the build&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;Measuring_Build_Time&quot;&gt;&lt;a href=&quot;#Measuring_Build_Time&quot; class=&quot;headerlink&quot; title=&quot;Measuring Build Time&quot;&gt;&lt;/a&gt;Measuring Build Time&lt;/h3&gt;&lt;h6 id=&quot;Build_With_Timing_Summary&quot;&gt;&lt;a href=&quot;#Build_With_Timing_Summary&quot; class=&quot;headerlink&quot; title=&quot;Build With Timing Summary&quot;&gt;&lt;/a&gt;Build With Timing Summary&lt;/h6&gt;&lt;p&gt;&lt;img src=&quot;/images/15292293472562.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15292295109399.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Source-Level_Improvements&quot;&gt;&lt;a href=&quot;#Source-Level_Improvements&quot; class=&quot;headerlink&quot; title=&quot;Source-Level Improvements&quot;&gt;&lt;/a&gt;Source-Level Improvements&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Dealing with complex expressions&lt;/li&gt;
&lt;li&gt;Understanding dependencies in Swift&lt;/li&gt;
&lt;li&gt;Limiting your Objective-C/Swift interface&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&quot;Turn_off_Whole_Module_Mode_For_Debug_Builds&quot;&gt;&lt;a href=&quot;#Turn_off_Whole_Module_Mode_For_Debug_Builds&quot; class=&quot;headerlink&quot; title=&quot;Turn off Whole Module Mode For Debug Builds&quot;&gt;&lt;/a&gt;Turn off Whole Module Mode For Debug Builds&lt;/h6&gt;&lt;p&gt; &lt;img src=&quot;/images/15292297716350.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h6 id=&quot;Use_Explicit_Types_for_Complex_Properties&quot;&gt;&lt;a href=&quot;#Use_Explicit_Types_for_Complex_Properties&quot; class=&quot;headerlink&quot; title=&quot;Use Explicit Types for Complex Properties&quot;&gt;&lt;/a&gt;Use Explicit Types for Complex Properties&lt;/h6&gt;&lt;p&gt;&lt;img src=&quot;/images/15292304002286.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h6 id=&quot;Provide_Types_in_Complex_Closures&quot;&gt;&lt;a href=&quot;#Provide_Types_in_Complex_Closures&quot; class=&quot;headerlink&quot; title=&quot;Provide Types in Complex Closures&quot;&gt;&lt;/a&gt;Provide Types in Complex Closures&lt;/h6&gt;&lt;p&gt;&lt;img src=&quot;/images/15292304507458.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h6 id=&quot;Break_Apart_Complex_Expressions&quot;&gt;&lt;a href=&quot;#Break_Apart_Complex_Expressions&quot; class=&quot;headerlink&quot; title=&quot;Break Apart Complex Expressions&quot;&gt;&lt;/a&gt;Break Apart Complex Expressions&lt;/h6&gt;&lt;p&gt;&lt;img src=&quot;/images/15292305166448.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h6 id=&quot;Use_AnyObject_Methods_and_Properties_Sparingly&quot;&gt;&lt;a href=&quot;#Use_AnyObject_Methods_and_Properties_Sparingly&quot; class=&quot;headerlink&quot; title=&quot;Use AnyObject Methods and Properties Sparingly&quot;&gt;&lt;/a&gt;Use AnyObject Methods and Properties Sparingly&lt;/h6&gt;&lt;p&gt;&lt;img src=&quot;/images/15292305743843.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;è°ƒç”¨ &lt;code&gt;AnyObject&lt;/code&gt; çš„æ–¹æ³•æ—¶, ä¼šå»æ‰€æœ‰çš„æ–‡ä»¶ä¸­å»æŸ¥æ‰¾è¯¥æ–¹æ³•, ç¼–è¯‘æ•ˆç‡ä½&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆ:&lt;br&gt;&lt;img src=&quot;/images/15292308090026.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;é€šè¿‡å®šä¹‰ &lt;code&gt;protocol&lt;/code&gt;, ç„¶åæŸ¥æ‰¾æ–¹æ³•å°±ä¼šå»æ­¤ &lt;code&gt;protocol&lt;/code&gt; çš„å£°æ˜é‡Œé¢ç›´æ¥å»æ‰¾&lt;/p&gt;
&lt;h3 id=&quot;Understanding_Dependencies_in_Swift&quot;&gt;&lt;a href=&quot;#Understanding_Dependencies_in_Swift&quot; class=&quot;headerlink&quot; title=&quot;Understanding Dependencies in Swift&quot;&gt;&lt;/a&gt;Understanding Dependencies in Swift&lt;/h3&gt;&lt;h6 id=&quot;Incremental_Builds_Are_File-Based&quot;&gt;&lt;a href=&quot;#Incremental_Builds_Are_File-Based&quot; class=&quot;headerlink&quot; title=&quot;Incremental Builds Are File-Based&quot;&gt;&lt;/a&gt;Incremental Builds Are File-Based&lt;/h6&gt;&lt;p&gt;&lt;img src=&quot;/images/15292312274443.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15292312680309.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¢åŠ æ–¹æ³•æ­¤æ—¶ä¼šé‡æ–°ç¼–è¯‘&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15292313035255.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;æ”¹å˜æ–¹æ³•çš„ bodies ä¸ä¼šå½±å“åˆ°å…¶ä»–çš„æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15292313838157.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä¸å…³è”çš„æ”¹å˜åœ¨æ–¹æ³•å¤–éƒ¨ä¹Ÿä¼šå¯¼è‡´é‡æ–°ç¼–è¯‘&lt;/p&gt;
&lt;h6 id=&quot;Dependencies_Within_a_Target_Are_Per-File__28_u76EE_u6807_u6587_u4EF6_u7684_u4F9D_u8D56_u5173_u7CFB_29&quot;&gt;&lt;a href=&quot;#Dependencies_Within_a_Target_Are_Per-File__28_u76EE_u6807_u6587_u4EF6_u7684_u4F9D_u8D56_u5173_u7CFB_29&quot; class=&quot;headerlink&quot; title=&quot;Dependencies Within a Target Are Per-File (ç›®æ ‡æ–‡ä»¶çš„ä¾èµ–å…³ç³»)&quot;&gt;&lt;/a&gt;Dependencies Within a Target Are Per-File (ç›®æ ‡æ–‡ä»¶çš„ä¾èµ–å…³ç³»)&lt;/h6&gt;&lt;p&gt;&lt;img src=&quot;/images/15292346436023.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h6 id=&quot;Cross-Target_Dependencies_Are_Coarse-Grained&quot;&gt;&lt;a href=&quot;#Cross-Target_Dependencies_Are_Coarse-Grained&quot; class=&quot;headerlink&quot; title=&quot;Cross-Target Dependencies Are Coarse-Grained&quot;&gt;&lt;/a&gt;Cross-Target Dependencies Are Coarse-Grained&lt;/h6&gt;&lt;p&gt;&lt;img src=&quot;/images/15292346898606.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h6 id=&quot;Swift_Dependency_Rules&quot;&gt;&lt;a href=&quot;#Swift_Dependency_Rules&quot; class=&quot;headerlink&quot; title=&quot;Swift Dependency Rules&quot;&gt;&lt;/a&gt;Swift Dependency Rules&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;Compiler must be conservative&lt;/li&gt;
&lt;li&gt;Changes in function bodies do not affect the fileâ€™s interface  &lt;/li&gt;
&lt;li&gt;Dependencies within a module are per-file&lt;/li&gt;
&lt;li&gt;Dependencies across targets are for the whole target&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&quot;Mixed-Source_App_Targets&quot;&gt;&lt;a href=&quot;#Mixed-Source_App_Targets&quot; class=&quot;headerlink&quot; title=&quot;Mixed-Source App Targets&quot;&gt;&lt;/a&gt;Mixed-Source App Targets&lt;/h6&gt;&lt;p&gt;&lt;img src=&quot;/images/15292351447821.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h6 id=&quot;Keep_Your_Generated_Header_Minimal&quot;&gt;&lt;a href=&quot;#Keep_Your_Generated_Header_Minimal&quot; class=&quot;headerlink&quot; title=&quot;Keep Your Generated Header Minimal&quot;&gt;&lt;/a&gt;Keep Your Generated Header Minimal&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Use private when possible&lt;/p&gt;
  &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;`@objc private func keyboardWillShow(_: Notification) &amp;#123; // Important keyboard setup code here.&amp;#10;&amp;#125;.&amp;#10;// ...&amp;#10;NotificationCenter.default.addObserver(self, selector: #selector(keyboardWillShow(_:)), ...)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Use block-based APIs&lt;/p&gt;
  &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;`self.observer = NotificationCenter.default.addObserver( forName: UIKeyboardWillShow, object: nil, queue: nil) &amp;#123;&amp;#10;// Important keyboard setup code here.&amp;#10;&amp;#125;.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Turn off â€œSwift 3 @objc Inferenceâ€&lt;br&gt;  &lt;img src=&quot;/images/15292355397528.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Keep Your Bridging Header Minimal&lt;ul&gt;
&lt;li&gt;Use categories to break up your interface&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&quot;/images/15292356504822.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;More_Information&quot;&gt;&lt;a href=&quot;#More_Information&quot; class=&quot;headerlink&quot; title=&quot;More Information&quot;&gt;&lt;/a&gt;More Information&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.apple.com/wwdc18/408&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://developer.apple.com/wwdc18/408&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Session 408&lt;br&gt;
    
    </summary>
    
    
      <category term="WWDC" scheme="http://yoursite.com/tags/WWDC/"/>
    
  </entry>
  
  <entry>
    <title>gitå‘½ä»¤</title>
    <link href="http://yoursite.com/2017/02/25/git-commands/"/>
    <id>http://yoursite.com/2017/02/25/git-commands/</id>
    <published>2017-02-25T09:33:33.000Z</published>
    <updated>2018-06-22T07:25:27.000Z</updated>
    
    <content type="html">&lt;p&gt;å¸¸ç”¨gitå‘½ä»¤æ¢³ç†ç¯‡&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é˜®ä¸€å³°è¿™ç¯‡&lt;a href=&quot;http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å¸¸ç”¨å‘½ä»¤æ¸…å•&lt;/a&gt;æ¸…æ™°çš„æ€»ç»“äº†å¸¸ç”¨çš„å‘½ä»¤ï¼Œè¿™è¾¹æˆ‘å°±ä¸åœ¨èµ˜è¿°äº†ï¼Œè¿™è¾¹ä¸»è¦è¡¥å……å¹¶æ•´ç†ä¸ªäººçš„ä¸€äº›å‘½ä»¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;u6E05_u5355&quot;&gt;&lt;a href=&quot;#u6E05_u5355&quot; class=&quot;headerlink&quot; title=&quot;æ¸…å•&quot;&gt;&lt;/a&gt;æ¸…å•&lt;/h3&gt;&lt;p&gt;&lt;code&gt;$ git commit --amend -m [message]&lt;/code&gt;&lt;br&gt; # ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œä»£æ›¿ä¸Šä¸€æ¬¡çš„æäº¤&lt;br&gt;# &lt;strong&gt;å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ git commit --amend [file1] [file2] ...&lt;/code&gt;&lt;br&gt; # é‡æ–°åšä¸Šæ¬¡çš„commitï¼Œ å¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ git branch [branch] [commit]&lt;/code&gt;&lt;br&gt;# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ git branch --set-upstream [branch] [remote-branch]&lt;/code&gt;&lt;br&gt;# å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ git cherry-pick [commit]&lt;/code&gt;&lt;br&gt;# é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ git push -u [remote] [branch]&lt;/code&gt;&lt;br&gt;# æ¨é€åˆ°remoteä»“åº“ä¸‹çš„branchåˆ†æ”¯ï¼Œå¹¶å½“å‰åˆ†æ”¯trackingåˆ°remoteä»“åº“ä¸‹çš„branchåˆ†æ”¯&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ git push &amp;lt;remote&amp;gt; &amp;lt;local branch name&amp;gt;:&amp;lt;remote branch to push into&amp;gt;&lt;/code&gt;&lt;br&gt;# ä¸Šä¼ æœ¬åœ°çš„åˆ†æ”¯åˆ°è¿œç¨‹çš„åˆ†æ”¯&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ git reflog/git log -g&lt;/code&gt;&lt;br&gt;# æŸ¥çœ‹æ‰€æœ‰çš„å†å²æ“ä½œï¼Œè¿™ä¸ªå‘½åæ¯”è¾ƒå®ç”¨ã€‚æ¯”å¦‚æ–°æ¥çš„åŒäº‹ç»å¸¸è¯¯æ“ä½œgitå¯¼è‡´ä¸æƒ³å‘ç”Ÿçš„ç»“æœï¼Œè¿™ä¸ªæ—¶å€™ä½ å¯ä»¥ä½¿ç”¨git reflogæŸ¥çœ‹å…¶è¿›è¡Œçš„æ‰€æœ‰æ“ä½œï¼Œç„¶åè¿›è¡Œreset&lt;/p&gt;
&lt;h3 id=&quot;u5E38_u89C1_u95EE_u9898&quot;&gt;&lt;a href=&quot;#u5E38_u89C1_u95EE_u9898&quot; class=&quot;headerlink&quot; title=&quot;å¸¸è§é—®é¢˜&quot;&gt;&lt;/a&gt;å¸¸è§é—®é¢˜&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;gitæ¯æ¬¡è¦æ±‚ä½ è¾“å…¥å¯†ç ï¼ŒEnter passphrase for key â€˜/Users/XY/.ssh/id_rsaâ€™:ï¼Ÿ&lt;br&gt;  ç›´æ¥æ•²&lt;code&gt;ssh-add&lt;/code&gt;ç„¶åè¾“å…¥å¯†ç å³å¯ï¼Œ è¯¦æƒ…&lt;a href=&quot;http://unix.stackexchange.com/questions/12195/how-to-avoid-being-asked-passphrase-each-tim%E2%80%A6&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ç‚¹å‡»&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;git rebase å†²çª?&lt;ol&gt;
&lt;li&gt;è§£å†³ä¸€ä¸ªè¡¥ä¸çš„åº”ç”¨å†²çªåï¼Œæ ‡è®°å†²çªå·²è§£å†³ git add -u&lt;/li&gt;
&lt;li&gt;ç»§ç»­rebase   git rebase â€”continue&lt;/li&gt;
&lt;li&gt;pushåˆ°è¿œç«¯å°±okäº†ï¼Œaddåä¸éœ€è¦commit&lt;/li&gt;
&lt;li&gt;git rebase â€”about æ”¾å¼ƒrebase&lt;br&gt; git rebase â€”skip   å¿½ç•¥æœ¬åœ°å†²çªçš„è¡¥ä¸&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;git fetch å’Œ git pull åŒºåˆ«ï¼Ÿ&lt;br&gt;  pull = fetch + mergeï¼Œgit pull ç›¸å½“äº git fetch åŠ ä¸Šä¸€ä¸ªgit mergeçš„æ“ä½œ&lt;br&gt;  git fetch åˆ›å»ºå¹¶æ›´æ–°æ‰€æœ‰è¿œç«¯åˆ†æ”¯çš„æœ¬åœ°è¿œç«¯åˆ†æ”¯ï¼Œåˆ›å»ºè¿œç«¯åˆ†æ”¯æ—¶ï¼Œä¼šè‡ªåŠ¨è·å–æ–°åŠ å…¥çš„åˆ†æ”¯ï¼Œè¿™ä¸ªæ“ä½œå¹¶ä¸ä¼šæ”¹å˜æœ¬åœ°çš„å·¥ä½œåŒºï¼Œè¯¦æƒ…&lt;a href=&quot;http://stackoverflow.com/questions/292357/what-is-the-difference-between-git-pull-and-git-fetch&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ç‚¹å‡»&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;git revert å’Œ git reset åŒºåˆ«ï¼Ÿ&lt;br&gt;  revertï¼šé€šè¿‡åˆ›å»ºä¸€æ¬¡æ–°çš„ commit æ¥æ’¤é”€ä¸€æ¬¡ commit æ‰€åšå‡ºçš„ä¿®æ”¹ã€‚è¿™ç§æ’¤é”€çš„æ–¹å¼æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºå®ƒå¹¶ä¸ä¿®æ”¹ commit history  &lt;/p&gt;
&lt;p&gt;  resetï¼šè¿˜åŸindexçš„çŠ¶æ€æˆ–è€…ä¿®æ”¹æœ¬åœ°åˆ†æ”¯HEADçš„ä½ç½®ã€‚æ¯”å¦‚ï¼Œ æŸä¸ªæäº¤ä¹‹åçš„ä»£ç éƒ½ä¸è¦äº†ï¼Œå°±å¯ä»¥åœ¨æœ¬åœ°ç›´æ¥resetè‡³æŒ‡å®šçš„commit&lt;br&gt;  è¡¥å……ï¼š&lt;br&gt;   &lt;code&gt;git reset --soft&lt;/code&gt;&lt;br&gt;  # staged snapshot å’Œ working directory éƒ½æœªè¢«æ”¹å˜&lt;br&gt;  &lt;code&gt;git reset --mixed&lt;/code&gt;&lt;br&gt;  # staged snapshot è¢«æ›´æ–°ï¼Œ working directory æœªè¢«æ›´æ”¹&lt;br&gt;  &lt;code&gt;git reset --hard&lt;/code&gt;&lt;br&gt;  # staged snapshot å’Œ working directory éƒ½å°†å›é€€&lt;br&gt;  è¿™äº›æ ‡è®°ç»å¸¸å’ŒHEADä¸€èµ·ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œgit reset â€“mixed HEADå¯æ’¤é”€æ‰€æœ‰ç¼“å­˜æ”¹åŠ¨ï¼Œä½†æ˜¯ä¿ç•™ä»–ä»¬åœ¨å·¥ä½œç›®å½•ä¸‹ã€‚git reset â€“hard HEADå¯å½»åº•åˆ é™¤æ²¡æœ‰æäº¤çš„æ”¹åŠ¨  &lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;u76D7_u7528_u4E00_u4E0B_uD83D_uDE02&quot;&gt;&lt;a href=&quot;#u76D7_u7528_u4E00_u4E0B_uD83D_uDE02&quot; class=&quot;headerlink&quot; title=&quot;ç›—ç”¨ä¸€ä¸‹ğŸ˜‚&quot;&gt;&lt;/a&gt;ç›—ç”¨ä¸€ä¸‹ğŸ˜‚&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/e55477eejw1f07e4ffienj21cv2funfq.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;å¸¸ç”¨gitå‘½ä»¤æ¢³ç†ç¯‡&lt;br&gt;
    
    </summary>
    
    
      <category term="GIT" scheme="http://yoursite.com/tags/GIT/"/>
    
  </entry>
  
  <entry>
    <title>Alfred</title>
    <link href="http://yoursite.com/2017/01/03/alfred-use/"/>
    <id>http://yoursite.com/2017/01/03/alfred-use/</id>
    <published>2017-01-03T04:30:11.000Z</published>
    <updated>2018-06-22T07:25:27.000Z</updated>
    
    <content type="html">&lt;p&gt;ä¸€æ¬¾ä½ ç”¨ä¸Šå°±çˆ±ä¸é‡Šæ‰‹çš„è½¯ä»¶&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;u5E38_u7528_u547D_u4EE4&quot;&gt;&lt;a href=&quot;#u5E38_u7528_u547D_u4EE4&quot; class=&quot;headerlink&quot; title=&quot;å¸¸ç”¨å‘½ä»¤&quot;&gt;&lt;/a&gt;å¸¸ç”¨å‘½ä»¤&lt;/h2&gt;&lt;p&gt;&lt;code&gt;open&lt;/code&gt; : å…³é”®å­—ç”¨æ¥æ‰“å¼€æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹&lt;br&gt;&lt;code&gt;find&lt;/code&gt; : å…³é”®å­—ç”¨æ¥æŸ¥è¯¢æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹çš„ä½ç½®&lt;br&gt;&lt;code&gt;in&lt;/code&gt; : å…³é”®å­—ç”¨æ¥æŸ¥æ‰¾æ–‡æœ¬æ–‡ä»¶å†…å«æœ‰æŸ¥è¯¢æ–‡å­—çš„æ–‡ä»¶ï¼ˆè¿™ä¸ªåŠŸèƒ½å¾ˆå¼ºå¤§å•Šï¼‰&lt;br&gt;&lt;code&gt;tags&lt;/code&gt; :å…³é”®å­—ç”¨æ¥æŸ¥è¯¢å«æœ‰æŸ¥è¯¢tagsçš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/alfread-1.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;code&gt;/&lt;/code&gt; : æ¥ç›´æ¥å®šä½åˆ°æ ¹ç›®å½•æˆ–è€…ä½¿ç”¨&lt;br&gt;&lt;code&gt;~&lt;/code&gt; : æ¥ç›´æ¥å®šä½åˆ°å½“å‰ç”¨æˆ·çš„homeç›®å½•&lt;br&gt;&lt;strong&gt;åœ¨æ–‡ä»¶å®šä½å·¥å…·ä¸­æˆ‘ä»¬å¯ä»¥è®¾ç½®æ˜¯å¦ä½¿ç”¨å·¦å³å»ºæ¥ä½œä¸ºå‰è¿›æˆ–è€…åé€€åŠŸèƒ½ &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;screensaver&lt;/code&gt; : å±å¹•ä¿æŠ¤ç¨‹åº&lt;br&gt;&lt;code&gt;trash&lt;/code&gt; : æ˜¾ç¤ºå›æ”¶ç«™&lt;br&gt;&lt;code&gt;emptytrash&lt;/code&gt; : æ¸…ç©ºå›æ”¶ç«™&lt;br&gt;&lt;code&gt;logout&lt;/code&gt; : ç™»å‡º&lt;br&gt;&lt;code&gt;sleep&lt;/code&gt; : ç¡çœ &lt;br&gt;&lt;code&gt;lock&lt;/code&gt; : é”å®š&lt;br&gt;&lt;code&gt;restart&lt;/code&gt; : é‡å¯&lt;br&gt;&lt;code&gt;shutdown&lt;/code&gt; : å…³æœº&lt;br&gt;&lt;code&gt;hide&lt;/code&gt; : éšè—&lt;br&gt;&lt;code&gt;quit&lt;/code&gt; : å…³é—­&lt;br&gt;&lt;code&gt;forcequit&lt;/code&gt; : å¼ºåˆ¶å…³é—­&lt;br&gt;&lt;code&gt;quitall&lt;/code&gt; : å…³é—­æ‰€æœ‰åº”ç”¨ç¨‹åº&lt;br&gt;&lt;code&gt;&amp;gt;&lt;/code&gt; : å…³é”®å­—å’Œä½¿ç”¨çš„é»˜è®¤æ§åˆ¶å°ç¨‹åº&lt;br&gt;&lt;code&gt;di&lt;/code&gt; : å…³é”®å­—æ¥æŸ¥è¯¢ä¸­è‹±å­—å…¸ &lt;/p&gt;
&lt;h3 id=&quot;Quick_Search&quot;&gt;&lt;a href=&quot;#Quick_Search&quot; class=&quot;headerlink&quot; title=&quot;Quick Search&quot;&gt;&lt;/a&gt;Quick Search&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/Alfred-Quick%20Search.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¯ç”¨äº†Quick Searché€‰é¡¹åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨â€™å•å¼•å·æˆ–è€…spaceç©ºæ ¼å¿«é€Ÿå¯ç”¨æ‰“å¼€æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹åŠŸèƒ½ç±»ä¼¼äºä½¿ç”¨openå…³é”®å­—&lt;/p&gt;
&lt;h3 id=&quot;Buffer&quot;&gt;&lt;a href=&quot;#Buffer&quot; class=&quot;headerlink&quot; title=&quot;Buffer&quot;&gt;&lt;/a&gt;Buffer&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/Alfred-buffer.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;è¿™ä¸ªåŠŸèƒ½éå¸¸çš„å®ç”¨ï¼Œä¸ªäººè¡¨ç¤ºå¾ˆå–œæ¬¢ï¼Œèƒ½å¤Ÿå¾ˆå¤§ç¨‹åº¦çš„æé«˜æ•ˆç‡ã€‚å°†æŸ¥æ‰¾åˆ°çš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹åŠ å…¥åˆ°ç¼“å­˜ä¸­ï¼Œç„¶åå°±å¯ä»¥å¯¹æœç´¢åˆ°çš„ç»“æœåšæ‰¹é‡å¤„ç†äº†ã€‚è¿™é‡Œçš„è®¾ç½®ä¹Ÿå¾ˆç®€å•ä¸»è¦å°±æ˜¯æ˜¯å¦å¯ç”¨ç¼“å­˜åŠŸèƒ½å’Œç¼“å­˜åŠŸèƒ½çš„å‡ ä¸ªå¿«æ·é”®ï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®ä½¿ç”¨å®Œåæ˜¯å¦æ¸…ç©ºç¼“å­˜ç­‰è®¾ç½®ã€‚ &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/Alfred-search.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;strong&gt;é€šè¿‡optioné”® + â¬†ï¸æ¥å°†é€‰ä¸­çš„æ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶åŠ å…¥åˆ°ç¼“å­˜ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚æœå­˜åœ¨ç¼“å­˜çš„è¯Alfredæœç´¢ç•Œé¢ä¸Šä¼šå‡ºç°é€‰ä¸­æ–‡ä»¶çš„å°å›¾æ ‡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/Alfred-buffer2.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;strong&gt;é€šè¿‡optioné”® + â¡ï¸æ¥æ‰¹é‡å¤„ç†ç¼“å­˜ä¸­çš„æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥æ‰“å¼€ã€å‘é‚®ä»¶ã€æ‹·è´ã€ç§»åŠ¨ã€åˆ é™¤ï¼ˆæ˜¯ä¸æ˜¯æ„Ÿè§‰åˆ°è¿™ä¸ªåŠŸèƒ½å°±æ˜¯ä»£æ›¿é¼ æ ‡é€‰ä¸­æ–‡ä»¶ç„¶åå³é”®çš„åŠŸèƒ½ )&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;1Password&quot;&gt;&lt;a href=&quot;#1Password&quot; class=&quot;headerlink&quot; title=&quot;1Password&quot;&gt;&lt;/a&gt;1Password&lt;/h3&gt;&lt;p&gt;ä½¿ç”¨1på…³é”®å­—æ¥æŸ¥è¯¢å¯†ç åº“&lt;br&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/Alfred-1p.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/Alfred-1p-search.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¾ˆå®¹æ˜“å¿˜è®°ï¼Œç´¢æ€§å°±å°†ç¬”è®°æ•´ç†æˆblogäº†ã€‚åç»­æœ‰æ—¶é—´å†è¿›è¡Œæ‰©å±•ï¼Œä¸è¶³ä¹‹å¤„è¿˜æœ›è§è°…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸€æ¬¾ä½ ç”¨ä¸Šå°±çˆ±ä¸é‡Šæ‰‹çš„è½¯ä»¶&lt;br&gt;
    
    </summary>
    
    
      <category term="Tool" scheme="http://yoursite.com/tags/Tool/"/>
    
  </entry>
  
  <entry>
    <title>Sketch--makeicons</title>
    <link href="http://yoursite.com/2016/09/26/sketch-makeicons/"/>
    <id>http://yoursite.com/2016/09/26/sketch-makeicons/</id>
    <published>2016-09-26T09:05:53.000Z</published>
    <updated>2018-06-22T07:25:27.000Z</updated>
    
    <content type="html">&lt;p&gt;ä¸€æšä¸åŠ¡æ­£ä¸šçš„iOSå·¥ç¨‹å¸ˆ&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;makeiconswithsketch&quot;&gt;&lt;a href=&quot;#makeiconswithsketch&quot; class=&quot;headerlink&quot; title=&quot;makeiconswithsketch&quot;&gt;&lt;/a&gt;makeiconswithsketch&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/sketch-symbol&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
&lt;h2 id=&quot;u76F8_u5173_u94FE_u63A5&quot;&gt;&lt;a href=&quot;#u76F8_u5173_u94FE_u63A5&quot; class=&quot;headerlink&quot; title=&quot;ç›¸å…³é“¾æ¥&quot;&gt;&lt;/a&gt;ç›¸å…³é“¾æ¥&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Sketch Toolbox&lt;/strong&gt;:&lt;a href=&quot;http://sketchtoolbox.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://sketchtoolbox.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;creativemarket&lt;/strong&gt;:&lt;a href=&quot;https://creativemarket.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://creativemarket.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Sketchä¸­æ–‡æ‰‹å†Œ&lt;/strong&gt;:&lt;a href=&quot;http://www.sketchcn.com/sketch-chinese-user-manual.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.sketchcn.com/sketch-chinese-user-manual.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;dribbble&lt;/strong&gt;:&lt;a href=&quot;https://dribbble.com/shots&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://dribbble.com/shots&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¨¡ä»¿&lt;a href=&quot;http://weibo.com/wangchaohui?from=myfollow_all&amp;amp;is_all=1#1474879197597&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Allenæœè¾‰&lt;/a&gt;å®ç°äº†ä¸€éï¼ŒSo goodï¼åˆå­¦è®¾è®¡ï¼Œæœ‰ä»€ä¹ˆä¸è¶³ä¹‹å¤„è¿˜æœ›æŒ‡å¯¼ã€‚&lt;br&gt;èµ„æºæ”¾åœ¨&lt;a href=&quot;https://github.com/PanXianyue/BlogDemo/tree/master/Sketch&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;git&lt;/a&gt;ä¸Šï¼Œæ–¹ä¾¿ç®¡ç†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸€æšä¸åŠ¡æ­£ä¸šçš„iOSå·¥ç¨‹å¸ˆ&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>æ‰§ç€</title>
    <link href="http://yoursite.com/2016/08/25/%E6%89%A7%E7%9D%80/"/>
    <id>http://yoursite.com/2016/08/25/æ‰§ç€/</id>
    <published>2016-08-25T13:16:00.000Z</published>
    <updated>2018-06-22T07:25:27.000Z</updated>
    
    <content type="html">&lt;p&gt;æœ‰äº›ä¸œè¥¿æ˜æ˜ä¸€æ–‡ä¸å€¼ï¼Œå´ä¸èˆå¾—ä¸¢æ‰ï¼Œ&lt;br&gt;&lt;br&gt;æœ‰æ—¶å€™æ‰¾ä¸ç€è¿˜ä¼šæ€¥å¾—åç«‹ä¸å®‰ã€‚&lt;br&gt;&lt;br&gt;é—®é¢˜æ˜¯å®ƒä»¬è¶Šæ¥è¶Šæ—§ï¼Œè¶Šæ¥è¶Šè€ï¼Œè€Œæˆ‘å·²ç»æ¸æ¸ä¸æ•¢çœ‹å®ƒä»¬ã€‚&lt;br&gt;&lt;br&gt;å®ƒä»¬è£…åœ¨ç›’å­é‡Œï¼Œæ”¾åœ¨è§’è½é‡Œï¼Œåƒä¸€éƒ¨éƒ¨ç”µå½±ï¼Œ&lt;br&gt;&lt;br&gt;éšæ—¶éƒ½èƒ½è®©æˆ‘é‡æ–°çœ‹åˆ°ä¸€åœºå¤§é›¨ï¼Œ&lt;br&gt;&lt;br&gt;ä¸€æ¬¡åˆ†ç¦»ï¼Œä¸€æ¯å’–å•¡ï¼Œä¸€ä¸ªæ‹¥æŠ±â€¦â€¦&lt;br&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;æœ‰äº›ä¸œè¥¿æ˜æ˜ä¸€æ–‡ä¸å€¼ï¼Œå´ä¸èˆå¾—ä¸¢æ‰ï¼Œ&lt;br&gt;&lt;br&gt;æœ‰æ—¶å€™æ‰¾ä¸ç€è¿˜ä¼šæ€¥å¾—åç«‹ä¸å®‰ã€‚&lt;br&gt;&lt;br&gt;é—®é¢˜æ˜¯å®ƒä»¬è¶Šæ¥è¶Šæ—§ï¼Œè¶Šæ¥è¶Šè€ï¼Œè€Œæˆ‘å·²ç»æ¸æ¸ä¸æ•¢çœ‹å®ƒä»¬ã€‚&lt;br&gt;&lt;br&gt;å®ƒä»¬è£…åœ¨ç›’å­é‡Œï¼Œæ”¾åœ¨è§’è½é‡Œï¼Œåƒä¸€éƒ¨éƒ¨ç”µå½±ï¼Œ&lt;br&gt;&lt;br&gt;éšæ—¶éƒ½èƒ½è®©æˆ‘é‡æ–°çœ‹åˆ°ä¸€åœºå¤§é›¨ï¼Œ&lt;br&gt;&lt;br&gt;ä¸€æ¬¡åˆ†ç¦»ï¼Œä¸€æ¯å’–å•¡ï¼Œä¸€ä¸ªæ‹¥æŠ±â€¦â€¦&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>YYKitæºç åˆ†æ---YYCache</title>
    <link href="http://yoursite.com/2016/07/18/YYCache-analyzing/"/>
    <id>http://yoursite.com/2016/07/18/YYCache-analyzing/</id>
    <published>2016-07-18T14:47:35.000Z</published>
    <updated>2018-06-22T07:25:27.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/ibireme/YYCache&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;YYCache&lt;/a&gt;æ˜¯ç”¨äºObjective-Cä¸­ç”¨äºç¼“å­˜çš„ç¬¬ä¸‰æ–¹æ¡†æ¶ã€‚æ­¤æ–‡ä¸»è¦ç”¨æ¥è®²è§£è¯¥æ¡†æ¶çš„å®ç°ç»†èŠ‚ï¼Œæ€§èƒ½åˆ†æã€è®¾è®¡æ€è·¯ibiremeå·²ç»è®²å¾—å¾ˆæ¸…æ¥šäº†ï¼Œæˆ‘è¿™è¾¹å°±ä¸åœ¨åˆ†æäº†ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;u6587_u4EF6_u7ED3_u6784&quot;&gt;&lt;a href=&quot;#u6587_u4EF6_u7ED3_u6784&quot; class=&quot;headerlink&quot; title=&quot;æ–‡ä»¶ç»“æ„&quot;&gt;&lt;/a&gt;æ–‡ä»¶ç»“æ„&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/yycache-tree.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;YYCacheï¼šåŒæ—¶å®ç°å†…å­˜ç¼“å­˜å’Œç£ç›˜ç¼“å­˜ä¸”æ˜¯çº¿ç¨‹å®‰å…¨çš„&lt;/li&gt;
&lt;li&gt;YYMemoryCacheï¼šå®ç°å†…å­˜ç¼“å­˜ï¼Œæ‰€æœ‰çš„APIéƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¸å…¶ä»–ç¼“å­˜æ–¹å¼æ¯”è¾ƒä¸åŒçš„æ˜¯å†…éƒ¨åˆ©ç”¨LRUæ·˜æ±°ç®—æ³•ï¼ˆåé¢ä¼šä»‹ç»ï¼‰æ¥æé«˜æ€§èƒ½&lt;/li&gt;
&lt;li&gt;YYDiskCacheï¼šå®ç°ç£ç›˜ç¼“å­˜ï¼Œæ‰€æœ‰çš„APIéƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå†…éƒ¨ä¹Ÿé‡‡ç”¨äº†LRUæ·˜æ±°ç®—æ³•ï¼Œä¸»è¦SQLiteå’Œæ–‡ä»¶å­˜å‚¨ä¸¤ç§æ–¹å¼&lt;/li&gt;
&lt;li&gt;YYKVStorageï¼šå®ç°ç£ç›˜å­˜å‚¨ï¼Œä¸æ¨èç›´æ¥ä½¿ç”¨è¯¥ç±»ï¼Œè¯¥ç±»ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;LRU&quot;&gt;&lt;a href=&quot;#LRU&quot; class=&quot;headerlink&quot; title=&quot;LRU&quot;&gt;&lt;/a&gt;LRU&lt;/h2&gt;&lt;p&gt;LRU(Least recently usedï¼Œæœ€è¿‘æœ€å°‘ä½¿ç”¨)ç®—æ³•ï¼Œæ ¹æ®è®¿é—®çš„å†å²è®°å½•æ¥å¯¹æ•°æ®è¿›è¡Œæ·˜æ±°&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/lru.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;ç®€å•çš„æ¥è¯´3ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æœ‰æ–°æ•°æ®åŠ å…¥æ—¶æ·»åŠ åˆ°é“¾è¡¨çš„å¤´éƒ¨&lt;/li&gt;
&lt;li&gt;æ¯å½“ç¼“å­˜å‘½ä¸­ï¼ˆå³ç¼“å­˜æ•°æ®è¢«è®¿é—®ï¼‰ï¼Œåˆ™å°†æ•°æ®ç§»åˆ°é“¾è¡¨å¤´éƒ¨&lt;/li&gt;
&lt;li&gt;å½“é“¾è¡¨æ»¡çš„æ—¶å€™ï¼Œå°†é“¾è¡¨å°¾éƒ¨çš„æ•°æ®ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;åœ¨YYMemoryCacheä¸­ä½¿ç”¨æ¥åŒå‘é“¾è¡¨å’ŒNSDictionaryå®ç°äº†LRUæ·˜æ±°ç®—æ³•ï¼Œåé¢ä¼šä»‹ç»&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;u5173_u4E8E_u9501&quot;&gt;&lt;a href=&quot;#u5173_u4E8E_u9501&quot; class=&quot;headerlink&quot; title=&quot;å…³äºé”&quot;&gt;&lt;/a&gt;å…³äºé”&lt;/h2&gt;&lt;p&gt;YYCache ä½¿ç”¨åˆ°ä¸¤ç§é”&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;OSSpinLock ï¼šè‡ªæ—‹é”ï¼Œä¸Šä¸€ç¯‡åšå®¢ä¹ŸæåŠåˆ°&lt;a href=&quot;http://iipanda.com/2016/06/21/YYKit-pthread/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;pthread_mutex&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;dispatch_semaphoreï¼šä¿¡å·é‡ï¼Œå½“ä¿¡å·é‡ä¸º1çš„æ—¶å€™å……å½“é”æ¥ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;å†…å­˜ç¼“å­˜ç”¨çš„pthread_mutexï¼šç”±äºpthread_mutexç›¸å½“äºdo whileå¿™ç­‰ï¼Œç­‰å¾…æ—¶ä¼šæ¶ˆè€—å¤§é‡çš„CPUèµ„æº&lt;br&gt;ç£ç›˜ç¼“å­˜ä½¿ç”¨çš„dispatch_semaphoreï¼šä¼˜åŠ¿åœ¨äºç­‰å¾…æ—¶ä¸ä¼šæ¶ˆè€—CPUèµ„æº&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç®€å•çš„ç§‘æ™®å°±åˆ°è¿™ï¼Œç°åœ¨æ¥å¼€å§‹æºç çš„æ¢ç´¢&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;YYLinkedMap&quot;&gt;&lt;a href=&quot;#YYLinkedMap&quot; class=&quot;headerlink&quot; title=&quot;_YYLinkedMap&quot;&gt;&lt;/a&gt;_YYLinkedMap&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@interface _YYLinkedMapNode : NSObject &amp;#123;&amp;#10;    @package&amp;#10;    __unsafe_unretained _YYLinkedMapNode *_prev; // retained by dic&amp;#10;    __unsafe_unretained _YYLinkedMapNode *_next; // retained by dic&amp;#10;    id _key;&amp;#10;    id _value;&amp;#10;    NSUInteger _cost;&amp;#10;    NSTimeInterval _time;&amp;#10;&amp;#125;&amp;#10;@end&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;_YYLinkedMapNode&lt;/strong&gt;ï¼šé“¾è¡¨çš„èŠ‚ç‚¹&lt;br&gt;&lt;br&gt;_prevã€_nextï¼šåˆ†åˆ«è¡¨ç¤ºæŒ‡å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€ä¸‹ä¸€ä¸ªèŠ‚ç‚¹&lt;br&gt;&lt;br&gt;_keyï¼šç¼“å­˜çš„key&lt;br&gt;&lt;br&gt;_valueï¼šç¼“å­˜å¯¹è±¡&lt;br&gt;&lt;br&gt;_costï¼šå†…å­˜æ¶ˆè€—&lt;br&gt;&lt;br&gt;_timeï¼šç¼“å­˜æ—¶é—´&lt;br&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@interface _YYLinkedMap : NSObject &amp;#123;&amp;#10;    @package&amp;#10;    CFMutableDictionaryRef _dic; // do not set object directly&amp;#10;    NSUInteger _totalCost;&amp;#10;    NSUInteger _totalCount;&amp;#10;    _YYLinkedMapNode *_head; // MRU&amp;#65288;&amp;#26368;&amp;#36817;&amp;#26368;&amp;#24120;&amp;#20351;&amp;#29992;&amp;#31639;&amp;#27861;&amp;#65289;, do not change it directly&amp;#10;    _YYLinkedMapNode *_tail; // LRU&amp;#65288;&amp;#26368;&amp;#36817;&amp;#26368;&amp;#23569;&amp;#20351;&amp;#29992;&amp;#31639;&amp;#27861;-&amp;#28165;&amp;#38500;&amp;#36739;&amp;#19981;&amp;#24120;&amp;#20351;&amp;#29992;&amp;#25968;&amp;#25454;&amp;#65289;, do not change it directly&amp;#10;    BOOL _releaseOnMainThread;&amp;#10;    BOOL _releaseAsynchronously;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;_YYLinkedMap&lt;/strong&gt;ï¼šé“¾è¡¨&lt;br&gt;&lt;br&gt;_dicï¼šç”¨æ¥ä¿å­˜èŠ‚ç‚¹&lt;br&gt;&lt;br&gt;_totalCostï¼šæ€»ç¼“å­˜å¼€é”€&lt;br&gt;&lt;br&gt;_headã€_tailï¼šå¤´èŠ‚ç‚¹ã€å°¾èŠ‚ç‚¹&lt;br&gt;&lt;br&gt;_releaseOnMainThreadï¼šæ˜¯å¦åœ¨ä¸»çº¿ç¨‹é‡Šæ”¾_YYLinkedMapNode&lt;br&gt;&lt;br&gt;_releaseAsynchronouslyï¼šæ˜¯å¦å¼‚æ­¥é‡Šæ”¾_YYLinkedMapNode&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŒå‘é“¾è¡¨&lt;/strong&gt;&lt;br&gt;&lt;br&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/LinkedMap@1x.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ’å…¥èŠ‚ç‚¹åˆ°å¤´éƒ¨&lt;/li&gt;
&lt;li&gt;å°†é™¤ä¸¤è¾¹çš„èŠ‚ç‚¹ç§»åˆ°å¤´éƒ¨&lt;/li&gt;
&lt;li&gt;ç§»é™¤é™¤ä¸¤è¾¹çš„èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;ç§»é™¤å°¾éƒ¨èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;ç§»é™¤æ‰€æœ‰èŠ‚ç‚¹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;çœ‹ä¸‹ç§»é™¤æ‰€æœ‰èŠ‚ç‚¹çš„ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (void)removeAll &amp;#123;&amp;#10;    _totalCost = 0;&amp;#10;    _totalCount = 0;&amp;#10;    _head = nil;&amp;#10;    _tail = nil;&amp;#10;    if (CFDictionaryGetCount(_dic) &amp;#62; 0) &amp;#123;&amp;#10;        CFMutableDictionaryRef holder = _dic;&amp;#10;        _dic = CFDictionaryCreateMutable(CFAllocatorGetDefault(), 0, &amp;#38;kCFTypeDictionaryKeyCallBacks, &amp;#38;kCFTypeDictionaryValueCallBacks);&amp;#10;        &amp;#10;        if (_releaseAsynchronously) &amp;#123;&amp;#10;            dispatch_queue_t queue = _releaseOnMainThread ? dispatch_get_main_queue() : YYMemoryCacheGetReleaseQueue();&amp;#10;            dispatch_async(queue, ^&amp;#123;&amp;#10;                CFRelease(holder); // hold and release in specified queue&amp;#10;            &amp;#125;);&amp;#10;        &amp;#125; else if (_releaseOnMainThread &amp;#38;&amp;#38; !pthread_main_np()) &amp;#123;&amp;#10;            dispatch_async(dispatch_get_main_queue(), ^&amp;#123;&amp;#10;                CFRelease(holder); // hold and release in specified queue&amp;#10;            &amp;#125;);&amp;#10;        &amp;#125; else &amp;#123;&amp;#10;            CFRelease(holder);&amp;#10;        &amp;#125;&amp;#10;    &amp;#125;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™è¾¹é€šè¿‡åŒå‘é“¾è¡¨æ¥å¯¹æ•°æ®è¿›è¡Œæ“ä½œï¼Œå’ŒNSDictionaryå®ç°äº†LRUæ·˜æ±°ç®—æ³•ã€‚æ—¶é—´å¤æ‚åº¦0ï¼ˆ1ï¼‰ï¼Œ5ç§æ“ä½œåŸºæœ¬ä¸Šéƒ½æ˜¯å¯¹å¤´å°¾èŠ‚ç‚¹å’Œé“¾è¡¨èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹å’Œä¸‹ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œæ“ä½œã€‚&lt;/p&gt;
&lt;h2 id=&quot;YYMemoryCache&quot;&gt;&lt;a href=&quot;#YYMemoryCache&quot; class=&quot;headerlink&quot; title=&quot;YYMemoryCache&quot;&gt;&lt;/a&gt;YYMemoryCache&lt;/h2&gt;&lt;p&gt;è¿™è¾¹ä»‹ç»ä¸¤ä¸ªä¸»è¦çš„æ“ä½œï¼šæ·»åŠ ç¼“å­˜ï¼ŒæŸ¥æ‰¾ç¼“å­˜&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ·»åŠ ç¼“å­˜&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (void)setObject:(id)object forKey:(id)key withCost:(NSUInteger)cost &amp;#123;&amp;#10;    if (!key) return;&amp;#10;    if (!object) &amp;#123;&amp;#10;        // &amp;#32531;&amp;#23384;&amp;#23545;&amp;#35937;&amp;#20026;nil&amp;#65292;&amp;#30452;&amp;#25509;&amp;#31227;&amp;#38500;&amp;#10;        [self removeObjectForKey:key];&amp;#10;        return;&amp;#10;    &amp;#125;&amp;#10;    // &amp;#20026;&amp;#20102;&amp;#20445;&amp;#35777;&amp;#32447;&amp;#31243;&amp;#23433;&amp;#20840;&amp;#65292;&amp;#25968;&amp;#25454;&amp;#25805;&amp;#20316;&amp;#21069;&amp;#36827;&amp;#34892;&amp;#21152;&amp;#38145;&amp;#10;    pthread_mutex_lock(&amp;#38;_lock);&amp;#10;    // &amp;#26597;&amp;#25214;&amp;#32531;&amp;#23384;&amp;#10;    _YYLinkedMapNode *node = CFDictionaryGetValue(_lru-&amp;#62;_dic, (__bridge const void *)(key));&amp;#10;    // &amp;#24403;&amp;#21069;&amp;#26102;&amp;#38388;&amp;#10;    NSTimeInterval now = CACurrentMediaTime();&amp;#10;    if (node) &amp;#123;&amp;#10;        // &amp;#32531;&amp;#23384;&amp;#23545;&amp;#35937;&amp;#24050;&amp;#23384;&amp;#22312;&amp;#65292;&amp;#26356;&amp;#26032;&amp;#25968;&amp;#25454;&amp;#65292;&amp;#24182;&amp;#31227;&amp;#21040;&amp;#26632;&amp;#39030;&amp;#10;        _lru-&amp;#62;_totalCost -= node-&amp;#62;_cost;&amp;#10;        _lru-&amp;#62;_totalCost += cost;&amp;#10;        node-&amp;#62;_cost = cost;&amp;#10;        node-&amp;#62;_time = now;&amp;#10;        node-&amp;#62;_value = object;&amp;#10;        [_lru bringNodeToHead:node];&amp;#10;    &amp;#125; else &amp;#123;&amp;#10;        // &amp;#32531;&amp;#23384;&amp;#23545;&amp;#35937;&amp;#19981;&amp;#23384;&amp;#22312;&amp;#65292;&amp;#28155;&amp;#21152;&amp;#25968;&amp;#25454;&amp;#65292;&amp;#24182;&amp;#31227;&amp;#21040;&amp;#26632;&amp;#39030;&amp;#10;        node = [_YYLinkedMapNode new];&amp;#10;        node-&amp;#62;_cost = cost;&amp;#10;        node-&amp;#62;_time = now;&amp;#10;        node-&amp;#62;_key = key;&amp;#10;        node-&amp;#62;_value = object;&amp;#10;        [_lru insertNodeAtHead:node];&amp;#10;    &amp;#125;&amp;#10;    // &amp;#21028;&amp;#26029;&amp;#24403;&amp;#21069;&amp;#30340;&amp;#32531;&amp;#23384;&amp;#36827;&amp;#34892;&amp;#26159;&amp;#21542;&amp;#36229;&amp;#20986;&amp;#20102;&amp;#35774;&amp;#23450;&amp;#20540;&amp;#65292;&amp;#33509;&amp;#36229;&amp;#20986;&amp;#21017;&amp;#36827;&amp;#34892;&amp;#25972;&amp;#29702;&amp;#10;    if (_lru-&amp;#62;_totalCost &amp;#62; _costLimit) &amp;#123;&amp;#10;        dispatch_async(_queue, ^&amp;#123;&amp;#10;            [self trimToCost:_costLimit];&amp;#10;        &amp;#125;);&amp;#10;    &amp;#125;&amp;#10;    &amp;#10;    // &amp;#27599;&amp;#27425;&amp;#28155;&amp;#21152;&amp;#25968;&amp;#25454;&amp;#20165;&amp;#26377;&amp;#19968;&amp;#20010;&amp;#65292;&amp;#25968;&amp;#37327;&amp;#19978;&amp;#36229;&amp;#20986;&amp;#26102;&amp;#65292;&amp;#30452;&amp;#25509;&amp;#31227;&amp;#38500;&amp;#23614;&amp;#37096;&amp;#37027;&amp;#20010;object&amp;#21363;&amp;#21487;&amp;#10;    if (_lru-&amp;#62;_totalCount &amp;#62; _countLimit) &amp;#123;&amp;#10;        _YYLinkedMapNode *node = [_lru removeTailNode];&amp;#10;        if (_lru-&amp;#62;_releaseAsynchronously) &amp;#123;&amp;#10;            dispatch_queue_t queue = _lru-&amp;#62;_releaseOnMainThread ? dispatch_get_main_queue() : YYMemoryCacheGetReleaseQueue();&amp;#10;            dispatch_async(queue, ^&amp;#123;&amp;#10;                [node class]; //hold and release in queue&amp;#10;            &amp;#125;);&amp;#10;        &amp;#125; else if (_lru-&amp;#62;_releaseOnMainThread &amp;#38;&amp;#38; !pthread_main_np()) &amp;#123;&amp;#10;            dispatch_async(dispatch_get_main_queue(), ^&amp;#123;&amp;#10;                [node class]; //hold and release in queue&amp;#10;            &amp;#125;);&amp;#10;        &amp;#125;&amp;#10;    &amp;#125;&amp;#10;    // &amp;#25805;&amp;#20316;&amp;#32467;&amp;#26463;&amp;#65292;&amp;#35299;&amp;#38145;&amp;#10;    pthread_mutex_unlock(&amp;#38;_lock);&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¼‚æ­¥çº¿ç¨‹é‡Šæ”¾&lt;/strong&gt;&lt;br&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/%E5%BC%82%E6%AD%A5%E9%87%8A%E6%94%BE.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;é‡Œé¢å¾ˆå¤šéƒ½ç”¨åˆ°ç±»ä¼¼çš„æ–¹æ³•ï¼Œå°†ä¸€ä¸ªå¯¹è±¡åœ¨å¼‚æ­¥çº¿ç¨‹ä¸­é‡Šæ”¾ï¼Œæ¥åˆ†æä¸‹ï¼š&lt;br&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;- p
1. é¦–å…ˆé€šè¿‡nodeæ¥å¯¹å…¶è¿›è¡ŒæŒæœ‰ï¼Œä»¥è‡³äºä¸ä¼šåœ¨æ–¹æ³•è°ƒç”¨ç»“æŸçš„æ—¶å€™è¢«é”€æ¯
2. æˆ‘è¦è¦åœ¨å…¶ä»–çº¿ç¨‹ä¸­è¿›è¡Œé”€æ¯ï¼Œæ‰€ä»¥å°†é”€æ¯æ“ä½œæ”¾åœ¨blockä¸­ï¼Œblockå°±ä¼šå¯¹å…¶è¿›è¡ŒæŒæœ‰
3. è¿™è¾¹åœ¨blockä¸­éšä¾¿è°ƒç”¨äº†ä¸ªæ–¹æ³•ï¼Œä¿è¯ç¼–è¯‘å™¨ä¸ä¼šä¼˜åŒ–æ‰è¿™ä¸ªæ“ä½œ
4. å½“blockç»“æŸåï¼Œnodeæ²¡æœ‰è¢«æŒæœ‰çš„æ—¶å€™ï¼Œå°±ä¼šåœ¨å½“å‰çº¿ç¨‹è¢«releaseæ‰äº†
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ·»åŠ ç¼“å­˜&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// &amp;#36825;&amp;#36793;&amp;#20174;memory&amp;#20013;&amp;#21462;&amp;#25968;&amp;#25454;&amp;#26102;&amp;#65292;&amp;#26681;&amp;#25454;LRU&amp;#21407;&amp;#21017;&amp;#65292;&amp;#23558;&amp;#26368;&amp;#26032;&amp;#21462;&amp;#20986;&amp;#30340;object&amp;#25918;&amp;#21040;&amp;#26632;&amp;#22836;&amp;#10;- (id)objectForKey:(id)key &amp;#123;&amp;#10;    if (!key) return nil;&amp;#10;    pthread_mutex_lock(&amp;#38;_lock);&amp;#10;    _YYLinkedMapNode *node = CFDictionaryGetValue(_lru-&amp;#62;_dic, (__bridge const void *)(key));&amp;#10;    if (node) &amp;#123;&amp;#10;        node-&amp;#62;_time = CACurrentMediaTime();&amp;#10;        [_lru bringNodeToHead:node];&amp;#10;    &amp;#125;&amp;#10;    pthread_mutex_unlock(&amp;#38;_lock);&amp;#10;    return node ? node-&amp;#62;_value : nil;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;YYKVStorage&quot;&gt;&lt;a href=&quot;#YYKVStorage&quot; class=&quot;headerlink&quot; title=&quot;YYKVStorage&quot;&gt;&lt;/a&gt;YYKVStorage&lt;/h2&gt;&lt;p&gt;è¯¥æ–‡ä»¶ä¸»è¦ä»¥ä¸¤ç§æ–¹å¼æ¥å®ç°ç£ç›˜å­˜å‚¨ï¼šSQLiteã€Fileï¼Œä½¿ç”¨ä¸¤ç§æ–¹å¼æ··åˆè¿›è¡Œå­˜å‚¨ä¸»è¦ä¸ºäº†æé«˜è¯»å†™æ•ˆç‡ã€‚å†™å…¥æ•°æ®æ—¶ï¼ŒSQLiteè¦æ¯”æ–‡ä»¶çš„æ–¹å¼æ›´å¿«ï¼›è¯»å–æ•°æ®çš„é€Ÿåº¦ä¸»è¦å–å†³äºæ–‡ä»¶çš„å¤§å°ã€‚æ®æµ‹è¯•ï¼Œåœ¨iPhone6ä¸­ï¼Œå½“æ–‡ä»¶å¤§å°è¶…è¿‡20kbæ—¶ï¼ŒFileè¦æ¯”SQLiteå¿«çš„å¤šã€‚æ‰€ä»¥å½“å¤§æ–‡ä»¶å­˜å‚¨æ—¶å»ºè®®ç”¨Fileçš„æ–¹å¼ï¼Œå°æ–‡ä»¶æ›´é€‚åˆç”¨SQLiteã€‚&lt;/p&gt;&lt;p&gt;&lt;br&gt;ä¸‹è¾¹åˆ†åˆ«å¯¹Saveã€Removeã€Getåˆ†åˆ«è¿›è¡Œåˆ†æ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Save&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (BOOL)saveItemWithKey:(NSString *)key value:(NSData *)value filename:(NSString *)filename extendedData:(NSData *)extendedData &amp;#123;&amp;#10;    // &amp;#26465;&amp;#20214;&amp;#19981;&amp;#31526;&amp;#21512;&amp;#10;    if (key.length == 0 || value.length == 0) return NO;&amp;#10;    if (_type == YYKVStorageTypeFile &amp;#38;&amp;#38; filename.length == 0) &amp;#123;&amp;#10;        return NO;&amp;#10;    &amp;#125;&amp;#10;    &amp;#10;    if (filename.length) &amp;#123;    // filename&amp;#23384;&amp;#22312; SQLite File&amp;#20004;&amp;#31181;&amp;#26041;&amp;#24335;&amp;#24182;&amp;#34892;&amp;#10;        // &amp;#29992;&amp;#25991;&amp;#20214;&amp;#36827;&amp;#34892;&amp;#23384;&amp;#20648;&amp;#10;        if (![self _fileWriteWithName:filename data:value]) &amp;#123;&amp;#10;            return NO;&amp;#10;        &amp;#125;&amp;#10;        // &amp;#29992;SQLite&amp;#36827;&amp;#34892;&amp;#23384;&amp;#20648;&amp;#10;        if (![self _dbSaveWithKey:key value:value fileName:filename extendedData:extendedData]) &amp;#123;&amp;#10;            // &amp;#24403;&amp;#20351;&amp;#29992;SQLite&amp;#26041;&amp;#24335;&amp;#23384;&amp;#20648;&amp;#22833;&amp;#36133;&amp;#26102;&amp;#65292;&amp;#21024;&amp;#38500;&amp;#26412;&amp;#22320;&amp;#25991;&amp;#20214;&amp;#23384;&amp;#20648;&amp;#10;            [self _fileDeleteWithName:filename];&amp;#10;            return NO;&amp;#10;        &amp;#125;&amp;#10;        return YES;&amp;#10;    &amp;#125; else &amp;#123;               // filename&amp;#19981;&amp;#23384;&amp;#22312; SQLite&amp;#10;        if (_type != YYKVStorageTypeSQLite) &amp;#123;&amp;#10;            // &amp;#36825;&amp;#36793;&amp;#21435;&amp;#21040;filename&amp;#21518;&amp;#65292;&amp;#21024;&amp;#38500;filename&amp;#23545;&amp;#24212;&amp;#30340;file&amp;#25991;&amp;#20214;&amp;#10;            NSString *filename = [self _dbGetFilenameWithKey:key];&amp;#10;            if (filename) &amp;#123;&amp;#10;                [self _fileDeleteWithName:filename];&amp;#10;            &amp;#125;&amp;#10;        &amp;#125;&amp;#10;        // SQLite &amp;#36827;&amp;#34892;&amp;#23384;&amp;#20648;&amp;#10;        return [self _dbSaveWithKey:key value:value fileName:nil extendedData:extendedData];&amp;#10;    &amp;#125;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Remove&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (BOOL)removeItemForKey:(NSString *)key &amp;#123;&amp;#10;    if (key.length == 0) return NO;&amp;#10;    switch (_type) &amp;#123;&amp;#10;        case YYKVStorageTypeSQLite: &amp;#123;&amp;#10;            // &amp;#21024;&amp;#38500;SQLite&amp;#25991;&amp;#20214;&amp;#10;            return [self _dbDeleteItemWithKey:key];&amp;#10;        &amp;#125; break;&amp;#10;        case YYKVStorageTypeFile:&amp;#10;        case YYKVStorageTypeMixed: &amp;#123;&amp;#10;            // &amp;#33719;&amp;#21462;filename&amp;#10;            NSString *filename = [self _dbGetFilenameWithKey:key];&amp;#10;            if (filename) &amp;#123;&amp;#10;                // &amp;#21024;&amp;#38500;filename&amp;#23545;&amp;#30340;file&amp;#10;                [self _fileDeleteWithName:filename];&amp;#10;            &amp;#125;&amp;#10;            // &amp;#21024;&amp;#38500;SQLite&amp;#25991;&amp;#20214;&amp;#10;            return [self _dbDeleteItemWithKey:key];&amp;#10;        &amp;#125; break;&amp;#10;        default: return NO;&amp;#10;    &amp;#125;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Get&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (NSData *)getItemValueForKey:(NSString *)key &amp;#123;&amp;#10;    if (key.length == 0) return nil;&amp;#10;    NSData *value = nil;&amp;#10;    switch (_type) &amp;#123;&amp;#10;        case YYKVStorageTypeFile: &amp;#123; //File&amp;#10;            NSString *filename = [self _dbGetFilenameWithKey:key];&amp;#10;            if (filename) &amp;#123;&amp;#10;                // &amp;#26681;&amp;#25454;filename&amp;#33719;&amp;#21462;File&amp;#10;                value = [self _fileReadWithName:filename];&amp;#10;                if (!value) &amp;#123;&amp;#10;                    // &amp;#24403;value&amp;#19981;&amp;#23384;&amp;#22312;&amp;#65292;&amp;#29992;&amp;#23545;&amp;#24212;&amp;#30340;key&amp;#21024;&amp;#38500;SQLite&amp;#25991;&amp;#20214;&amp;#10;                    [self _dbDeleteItemWithKey:key];&amp;#10;                    value = nil;&amp;#10;                &amp;#125;&amp;#10;            &amp;#125;&amp;#10;        &amp;#125; break;&amp;#10;        case YYKVStorageTypeSQLite: &amp;#123;&amp;#10;            // SQLite &amp;#26041;&amp;#24335;&amp;#33719;&amp;#21462;&amp;#10;            value = [self _dbGetValueWithKey:key];&amp;#10;        &amp;#125; break;&amp;#10;        case YYKVStorageTypeMixed: &amp;#123;&amp;#10;            NSString *filename = [self _dbGetFilenameWithKey:key];&amp;#10;            // filename &amp;#23384;&amp;#22312;&amp;#25991;&amp;#20214;&amp;#33719;&amp;#21462;&amp;#65292;&amp;#19981;&amp;#23384;&amp;#22312;SQLite&amp;#26041;&amp;#24335;&amp;#33719;&amp;#21462;&amp;#10;            if (filename) &amp;#123;&amp;#10;                value = [self _fileReadWithName:filename];&amp;#10;                if (!value) &amp;#123;&amp;#10;                    [self _dbDeleteItemWithKey:key];&amp;#10;                    value = nil;&amp;#10;                &amp;#125;&amp;#10;            &amp;#125; else &amp;#123;&amp;#10;                value = [self _dbGetValueWithKey:key];&amp;#10;            &amp;#125;&amp;#10;        &amp;#125; break;&amp;#10;    &amp;#125;&amp;#10;    if (value) &amp;#123;&amp;#10;        // &amp;#26356;&amp;#26032;&amp;#25991;&amp;#20214;&amp;#25805;&amp;#20316;&amp;#26102;&amp;#38388;&amp;#10;        [self _dbUpdateAccessTimeWithKey:key];&amp;#10;    &amp;#125;&amp;#10;    return value;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Fileæ–¹å¼ä¸»è¦ä½¿ç”¨çš„writeToFileè¿›è¡Œå­˜å‚¨ï¼ŒSQLteç›´æ¥ä½¿ç”¨çš„sqlite3æ¥å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œï¼Œå…·ä½“æ•°æ®åº“ç›¸å…³çš„æ“ä½œè¿™è¾¹å°±ä¸åœ¨è¿›è¡Œåˆ†æäº†ï¼Œæ„Ÿå…´è¶£çš„è‡ªå·±å¯ä»¥é˜…è¯»ä¸‹&lt;/p&gt;
&lt;h2 id=&quot;YYDiskCache&quot;&gt;&lt;a href=&quot;#YYDiskCache&quot; class=&quot;headerlink&quot; title=&quot;YYDiskCache&quot;&gt;&lt;/a&gt;YYDiskCache&lt;/h2&gt;&lt;p&gt;YYDiskCacheæ˜¯å¯¹YYKVStorageè¿›è¡Œçš„ä¸€æ¬¡å°è£…ï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¿™è¾¹ä½¿ç”¨çš„æ˜¯dispatch_semaphore_signalæ¥ç¡®ä¿çº¿ç¨‹çš„å®‰å…¨ã€‚å¦å¤–ä»–ç»“åˆLRUç®—æ³•ï¼Œæ ¹æ®æ–‡ä»¶çš„å¤§å°è‡ªåŠ¨é€‰æ‹©å­˜å‚¨æ–¹å¼æ¥è¾¾åˆ°æ›´å¥½çš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (instancetype)initWithPath:(NSString *)path&amp;#10;             inlineThreshold:(NSUInteger)threshold &amp;#123;&amp;#10;    self = [super init];&amp;#10;    if (!self) return nil;&amp;#10;    &amp;#10;    // &amp;#33719;&amp;#21462;&amp;#32531;&amp;#23384;&amp;#30340; YYDiskCache&amp;#10;    YYDiskCache *globalCache = _YYDiskCacheGetGlobal(path);&amp;#10;    if (globalCache) return globalCache;&amp;#10;    &amp;#10;    // &amp;#30830;&amp;#23450;&amp;#23384;&amp;#20648;&amp;#30340;&amp;#26041;&amp;#24335;&amp;#10;    YYKVStorageType type;&amp;#10;    if (threshold == 0) &amp;#123;&amp;#10;        type = YYKVStorageTypeFile;&amp;#10;    &amp;#125; else if (threshold == NSUIntegerMax) &amp;#123;&amp;#10;        type = YYKVStorageTypeSQLite;&amp;#10;    &amp;#125; else &amp;#123;&amp;#10;        type = YYKVStorageTypeMixed;&amp;#10;    &amp;#125;&amp;#10;    &amp;#10;    // &amp;#21021;&amp;#22987;&amp;#21270; YYKVStorage&amp;#10;    YYKVStorage *kv = [[YYKVStorage alloc] initWithPath:path type:type];&amp;#10;    if (!kv) return nil;&amp;#10;    &amp;#10;    // &amp;#21021;&amp;#22987;&amp;#21270;&amp;#25968;&amp;#25454;&amp;#10;    _kv = kv;&amp;#10;    _path = path;&amp;#10;    _lock = dispatch_semaphore_create(1);&amp;#10;    _queue = dispatch_queue_create(&amp;#34;com.ibireme.cache.disk&amp;#34;, DISPATCH_QUEUE_CONCURRENT);&amp;#10;    _inlineThreshold = threshold;&amp;#10;    _countLimit = NSUIntegerMax;&amp;#10;    _costLimit = NSUIntegerMax;&amp;#10;    _ageLimit = DBL_MAX;&amp;#10;    _freeDiskSpaceLimit = 0;&amp;#10;    _autoTrimInterval = 60;&amp;#10;    &amp;#10;    // &amp;#36882;&amp;#24402;&amp;#30340;&amp;#21435;&amp;#25972;&amp;#29702;&amp;#25991;&amp;#20214;&amp;#10;    [self _trimRecursively];&amp;#10;    // &amp;#23545;&amp;#24403;&amp;#21069;&amp;#23545;&amp;#35937;&amp;#36827;&amp;#34892;&amp;#32531;&amp;#23384;&amp;#10;    _YYDiskCacheSetGlobal(self);&amp;#10;    &amp;#10;    // &amp;#36890;&amp;#30693; APP&amp;#21363;&amp;#23558;&amp;#34987;&amp;#26432;&amp;#27515;&amp;#26102;&amp;#10;    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(_appWillBeTerminated) name:UIApplicationWillTerminateNotification object:nil];&amp;#10;    return self;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å…¶ä»–çš„ä¸€äº›æ“ä½œåŸºæœ¬ä¸Šéƒ½æ˜¯å¯¹YYKVStorageçš„ä¸€äº›å°è£…ï¼Œè¿™è¾¹å°±ä¸ä¸€ä¸€åˆ†æäº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;u53C2_u8003_u6587_u732E&quot;&gt;&lt;a href=&quot;#u53C2_u8003_u6587_u732E&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒæ–‡çŒ®&quot;&gt;&lt;/a&gt;å‚è€ƒæ–‡çŒ®&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.ibireme.com/2015/10/26/yycache/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.ibireme.com/2015/10/26/yycache/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/yunhua_lee/article/details/7599671&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/yunhua_lee/article/details/7599671&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://github.com/ibireme/YYCache&quot;&gt;YYCache&lt;/a&gt;æ˜¯ç”¨äºObjective-Cä¸­ç”¨äºç¼“å­˜çš„ç¬¬ä¸‰æ–¹æ¡†æ¶ã€‚æ­¤æ–‡ä¸»è¦ç”¨æ¥è®²è§£è¯¥æ¡†æ¶çš„å®ç°ç»†èŠ‚ï¼Œæ€§èƒ½åˆ†æã€è®¾è®¡æ€è·¯ibiremeå·²ç»è®²å¾—å¾ˆæ¸…æ¥šäº†ï¼Œæˆ‘è¿™è¾¹å°±ä¸åœ¨åˆ†æäº†ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
    
      <category term="YYCache" scheme="http://yoursite.com/tags/YYCache/"/>
    
      <category term="YYKit" scheme="http://yoursite.com/tags/YYKit/"/>
    
  </entry>
  
  <entry>
    <title>YYKitæºç åˆ†æ---pthread</title>
    <link href="http://yoursite.com/2016/06/21/YYKit-pthread/"/>
    <id>http://yoursite.com/2016/06/21/YYKit-pthread/</id>
    <published>2016-06-21T09:43:18.000Z</published>
    <updated>2018-06-22T07:25:27.000Z</updated>
    
    <content type="html">&lt;p&gt;å¤§å®¶éƒ½çŸ¥é“ibiremeçš„&lt;a href=&quot;https://github.com/ibireme/YYKit&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;YYKit&lt;/a&gt;å¾ˆå¼ºå¤§ï¼Œä¸ªäººä¹Ÿç‰¹åˆ«ä½©æœibiremeã€‚å¤§ç¥å¸¸å¸¸æ•™å¯¼æˆ‘ä»¬è¿™æ ·çš„å°ç™½è¯´ï¼šå¤šè¯»æºç èƒ½å¤Ÿå¤§å¹…åº¦çš„æé«˜åŠŸåŠ›ã€‚ &lt;/p&gt;&lt;p&gt;æ¯å½“é¡¹ç›®ä¸Šçº¿åï¼Œéœ€æ±‚è¿˜æ²¡æœ‰ä¸‹æ¥æ—¶ï¼Œéƒ½ä¼šæœ‰ä¸€æ®µé—²æš‡æ—¶é—´ã€‚è¿™æ®µæ—¶é—´å­¦ä¹ æ˜¯æä½³çš„ã€‚YYKitè¿™ä¸ªæ¡†æ¶åˆšå¼€å§‹çœ‹çš„æ—¶å€™å°±é‡åˆ°pthreadè¿™ä¸ªç©æ„ï¼Œä¹‹å‰å¾ˆå°‘æ¥è§¦ã€‚åœ¨æ­¤ï¼Œè®°å½•è‡ªå·±çš„æ‰€å­¦æ‰€å¾—ï¼Œå¹¶åˆ†äº«ç»™å¤§å®¶ã€‚&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;u5148_u6765_u770B_u4E0BYY_u5B9A_u4E49_u7684_u5B8F&quot;&gt;&lt;a href=&quot;#u5148_u6765_u770B_u4E0BYY_u5B9A_u4E49_u7684_u5B8F&quot; class=&quot;headerlink&quot; title=&quot;å…ˆæ¥çœ‹ä¸‹YYå®šä¹‰çš„å®&quot;&gt;&lt;/a&gt;å…ˆæ¥çœ‹ä¸‹YYå®šä¹‰çš„å®&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;static inline void pthread_mutex_init_recursive(pthread_mutex_t *mutex, bool recursive) &amp;#123;&amp;#10;#define YYMUTEX_ASSERT_ON_ERROR(x_) do &amp;#123; \&amp;#10;__unused volatile int res = (x_); \&amp;#10;assert(res == 0); \&amp;#10;&amp;#125; while (0)&amp;#10;    assert(mutex != NULL);&amp;#10;    if (!recursive) &amp;#123;&amp;#10;        YYMUTEX_ASSERT_ON_ERROR(pthread_mutex_init(mutex, NULL));&amp;#10;    &amp;#125; else &amp;#123;&amp;#10;        pthread_mutexattr_t attr;&amp;#10;        &amp;#10;        YYMUTEX_ASSERT_ON_ERROR(pthread_mutexattr_init (&amp;#38;attr));&amp;#10;        YYMUTEX_ASSERT_ON_ERROR(pthread_mutexattr_settype (&amp;#38;attr, PTHREAD_MUTEX_RECURSIVE));&amp;#10;        YYMUTEX_ASSERT_ON_ERROR(pthread_mutex_init (mutex, &amp;#38;attr));&amp;#10;        YYMUTEX_ASSERT_ON_ERROR(pthread_mutexattr_destroy (&amp;#38;attr));&amp;#10;    &amp;#125;&amp;#10;#undef YYMUTEX_ASSERT_ON_ERROR&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¤§ç¥çš„ä»£ç éƒ½æ˜¯æ™¦æ¶©éš¾æ‡‚çš„ï¼Œçœ‹åˆ°è¿™æ®µä»£ç ååŠ³èµ„çªç„¶äº§ç”Ÿäº†å¥½å‡ ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿™ä¸ªæ–¹æ³•æ˜¯ç”¨æ¥å¹²å˜›çš„å‘¢ï¼Ÿ&lt;/li&gt;
&lt;li&gt;pthread_mutex_tæ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ&lt;/li&gt;
&lt;li&gt;pthread_mutexattr_tæ˜¯ç”¨æ¥é…ç½®pthread_mutex_tçš„å—ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;u89E3_u8BFB&quot;&gt;&lt;a href=&quot;#u89E3_u8BFB&quot; class=&quot;headerlink&quot; title=&quot;è§£è¯»&quot;&gt;&lt;/a&gt;è§£è¯»&lt;/h2&gt;&lt;h4 id=&quot;u529F_u80FD&quot;&gt;&lt;a href=&quot;#u529F_u80FD&quot; class=&quot;headerlink&quot; title=&quot;åŠŸèƒ½&quot;&gt;&lt;/a&gt;åŠŸèƒ½&lt;/h4&gt;&lt;p&gt;å…¶å®å°±æ˜¯åˆ›å»ºä¸ªäº’æ–¥çº¿ç¨‹ï¼Œå¹¶æ²¡æœ‰æƒ³è±¡ä¸­çš„å¯æ€•&lt;/p&gt;
&lt;h4 id=&quot;pthread_mutex_t&quot;&gt;&lt;a href=&quot;#pthread_mutex_t&quot; class=&quot;headerlink&quot; title=&quot;pthread_mutex_t&quot;&gt;&lt;/a&gt;pthread_mutex_t&lt;/h4&gt;&lt;p&gt;&lt;code&gt;int pthread_mutex_init(pthread_mutex_t * __restrict,
        const pthread_mutexattr_t * __restrict);&lt;/code&gt; æ˜¯ç”¨è¿™ä¸ªå‡½æ•°åˆ›å»ºå‡ºæ¥çš„ã€‚å‡½æ•°æ˜¯ä»¥åŠ¨æ€çš„æ–¹å¼åˆ›å»ºäº’æ–¥é”çš„ï¼Œå‚æ•°attræŒ‡å®šäº†æ–°å»ºäº’æ–¥é”çš„å±æ€§ã€‚&lt;br&gt;&lt;code&gt;recursive&lt;/code&gt;è¿™ä¸ª&lt;code&gt;bool&lt;/code&gt;å€¼ä¸ºfalseæ—¶ï¼Œatträ¸ºç©ºï¼Œåˆ™ä½¿ç”¨é»˜è®¤çš„äº’æ–¥é”å±æ€§ï¼Œé»˜è®¤å±æ€§ä¸ºå¿«é€Ÿäº’æ–¥é”ã€‚&lt;br&gt;&lt;code&gt;recursive&lt;/code&gt;è¿™ä¸ª&lt;code&gt;bool&lt;/code&gt;å€¼ä¸ºtrueæ—¶ï¼Œé…ç½®äº’æ–¥é”å±æ€§åˆ›å»ºç›¸åº”çš„äº’æ–¥é”ã€‚&lt;/p&gt;
&lt;h4 id=&quot;YYMUTEX_ASSERT_ON_ERROR&quot;&gt;&lt;a href=&quot;#YYMUTEX_ASSERT_ON_ERROR&quot; class=&quot;headerlink&quot; title=&quot;YYMUTEX_ASSERT_ON_ERROR&quot;&gt;&lt;/a&gt;YYMUTEX_ASSERT_ON_ERROR&lt;/h4&gt;&lt;p&gt;æ–­è¨€æ¥è¿›è¡Œæ£€æŸ¥é”™è¯¯ï¼Œæ‰€æœ‰æ“ä½œè¿”å›é0æ—¶ï¼Œè¡¨ç¤ºæœ‰å¼‚å¸¸é”™è¯¯å‘ç”Ÿ&lt;/p&gt;
&lt;h4 id=&quot;Mutex_type_attributes&quot;&gt;&lt;a href=&quot;#Mutex_type_attributes&quot; class=&quot;headerlink&quot; title=&quot;Mutex type attributes&quot;&gt;&lt;/a&gt;Mutex type attributes&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;PTHREAD_MUTEX_NORMAL&lt;/strong&gt;ï¼šä¸è¿›è¡Œdeadlock detectionï¼ˆæ­»é”æ£€æµ‹ï¼‰ã€‚å½“è¿›è¡Œrelockæ—¶ï¼Œè¿™ä¸ªmutexå°±å¯¼è‡´deadlockã€‚å¯¹ä¸€ä¸ªæ²¡æœ‰è¿›è¡Œlockæˆ–è€…å·²ç»unlockçš„å¯¹è±¡è¿›è¡Œunlockæ“ä½œï¼Œç»“æœä¹Ÿæ˜¯æœªçŸ¥çš„ã€‚&lt;br&gt;&lt;strong&gt;PTHREAD_MUTEX_ERRORCHECK&lt;/strong&gt;ï¼šå’ŒPTHREAD_MUTEX_NORMALç›¸æ¯”ï¼ŒPTHREAD_MUTEX_ERRORCHECKä¼šè¿›è¡Œé”™è¯¯æ£€æµ‹ï¼Œä»¥ä¸Šé”™è¯¯è¡Œä¸ºéƒ½ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚&lt;br&gt;&lt;strong&gt;PTHREAD_MUTEX_RECURSIVE&lt;/strong&gt;ï¼šå’Œsemaphoreï¼ˆä¿¡å·é‡ï¼‰æœ‰ä¸ªç±»ä¼¼çš„ä¸œè¥¿ï¼Œmutexä¼šæœ‰ä¸ªé”ä½æ¬¡æ•°çš„æ¦‚å¿µï¼Œç¬¬ä¸€æ¬¡é”ä½mutexçš„æ—¶å€™ï¼Œé”ä½æ¬¡æ•°è®¾ç½®ä¸º1ï¼Œæ¯ä¸€æ¬¡ä¸€ä¸ªçº¿ç¨‹unlockè¿™ä¸ªmutexæ—¶ï¼Œé”ä½æ¬¡æ•°å°±ä¼šå‡1ã€‚å½“é”ä½æ¬¡æ•°ä¸º0æ—¶ï¼Œå…¶ä»–çº¿ç¨‹å°±å¯ä»¥è·å¾—è¯¥mutexé”äº†ã€‚åŒæ ·ï¼Œå¯¹ä¸€ä¸ªæ²¡æœ‰è¿›è¡Œlockæˆ–è€…å·²ç»unlockçš„å¯¹è±¡è¿›è¡Œunlockæ“ä½œï¼Œå°†è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚&lt;br&gt;&lt;strong&gt;PTHREAD_MUTEX_DEFAULT&lt;/strong&gt;ï¼šé»˜è®¤PTHREAD_MUTEX_NORMALã€‚&lt;/p&gt;
&lt;h2 id=&quot;u518D_u770B_u770BYY_u5982_u4F55_u4F7F_u7528_u8BE5_u5B8F&quot;&gt;&lt;a href=&quot;#u518D_u770B_u770BYY_u5982_u4F55_u4F7F_u7528_u8BE5_u5B8F&quot; class=&quot;headerlink&quot; title=&quot;å†çœ‹çœ‹YYå¦‚ä½•ä½¿ç”¨è¯¥å®&quot;&gt;&lt;/a&gt;å†çœ‹çœ‹YYå¦‚ä½•ä½¿ç”¨è¯¥å®&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (YYImageFrame *)frameAtIndex:(NSUInteger)index decodeForDisplay:(BOOL)decodeForDisplay &amp;#123;&amp;#10;    YYImageFrame *result = nil;&amp;#10;    pthread_mutex_lock(&amp;#38;_lock);&amp;#10;    result = [self _frameAtIndex:index decodeForDisplay:decodeForDisplay];&amp;#10;    pthread_mutex_unlock(&amp;#38;_lock);&amp;#10;    return result;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;è¿™è¾¹ä¸ºäº†é˜²æ­¢å¤šçº¿ç¨‹èµ„æºæŠ¢å¤ºçš„é—®é¢˜ï¼Œå…ˆè¿›è¡Œlockä¸‹ï¼Œç­‰æ•°æ®æ“ä½œå®Œæ¯•åé‡Šæ”¾unlockï¼Œæœ‰æ²¡æœ‰ä¸€ç§è±ç„¶å¼€æœ—çš„æ„Ÿè§‰å‘¢&lt;br&gt;å¹³æ—¶æˆ‘ä»¬åœ¨å¤šçº¿ç¨‹æ“ä½œçš„æ—¶å€™ä¹Ÿå¯ä»¥ä½¿ç”¨NSLockã€synchronizedæ¥è¿›è¡ŒåŠ é”ï¼Œyyä½¿ç”¨äº†æ›´åŠ åå‘åº•å±‚çš„pthread&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;pthread_t_u548CNSThread&quot;&gt;&lt;a href=&quot;#pthread_t_u548CNSThread&quot; class=&quot;headerlink&quot; title=&quot;pthread_tå’ŒNSThread&quot;&gt;&lt;/a&gt;pthread_tå’ŒNSThread&lt;/h2&gt;&lt;p&gt;ä¸¤è€…éƒ½æ˜¯ç”¨æ¥æ“ä½œçº¿ç¨‹çš„å¯¹è±¡ï¼Œå¹³æ—¶æˆ‘ä»¬ä½¿ç”¨ä¸Šå±‚çš„NSThreadæ¯”è¾ƒå¤šï¼Œåƒ[NSThread mainThread]è·å–ä¸»çº¿ç¨‹ï¼Œ[NSThread currentThread] è·å–å½“å‰çº¿ç¨‹ã€‚pthread_tå’ŒNSThreadæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼ŒåŒæ ·å¯ä»¥é€šè¿‡pthread_main_thread_np() ã€pthread_self()æ¥è·å–ã€‚NSThreadåªæ˜¯å¯¹pthread_tçš„ä¸€å±‚å°è£…è€Œå·²ã€‚&lt;/p&gt;
&lt;h2 id=&quot;u5B9E_u6218&quot;&gt;&lt;a href=&quot;#u5B9E_u6218&quot; class=&quot;headerlink&quot; title=&quot;å®æˆ˜&quot;&gt;&lt;/a&gt;å®æˆ˜&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;å£°æ˜å‡½æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;void *func(void *argu) &amp;#123;&amp;#10;    char *m = (char *)argu;&amp;#10;&amp;#10;    pthread_mutex_lock(&amp;#38;mutex);&amp;#10;    while (*m != &amp;#39;\0&amp;#39;) &amp;#123;&amp;#10;        printf(&amp;#34;%c&amp;#34;, *m);&amp;#10;        fflush(stdout);&amp;#10;        sleep(3);&amp;#10;        m++;&amp;#10;    &amp;#125;&amp;#10;    printf(&amp;#34;\n&amp;#34;);&amp;#10;    pthread_mutex_unlock(&amp;#38;mutex);&amp;#10;    return 0;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;mutexä½¿ç”¨ &lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;   int rc1, rc2;&amp;#10;   &amp;#10;   char *str1 = &amp;#34;Hi&amp;#34;;&amp;#10;   char *str2 = &amp;#34;Boy!&amp;#34;;&amp;#10;   &amp;#10;   pthread_t thread1, thread2;&amp;#10;   pthread_mutex_init(&amp;#38;mutex, NULL);&amp;#10;&amp;#10;   if ((rc1 = pthread_create(&amp;#38;thread1, NULL, func, str1))) &amp;#123;&amp;#10;       fprintf(stdout, &amp;#34;thread1 creat fail : %d \n!&amp;#34;, rc1);&amp;#10;   &amp;#125;&amp;#10;   if ((rc2 = pthread_create(&amp;#38;thread2, NULL, func, str2))) &amp;#123;&amp;#10;       fprintf(stdout, &amp;#34;thread2 creat fail : %d \n!&amp;#34;, rc2);&amp;#10;   &amp;#125;&amp;#10;&amp;#10;   // https://developer.apple.com/legacy/library/documentation/Darwin/Reference/ManPages/man3/pthread_join.3.html#//apple_ref/c/func/pthread_join&amp;#10;   // &amp;#31561;&amp;#24453;&amp;#19968;&amp;#20010;&amp;#32447;&amp;#31243;&amp;#30340;&amp;#32467;&amp;#26463;&amp;#65292;&amp;#24403;&amp;#20989;&amp;#25968;&amp;#36820;&amp;#22238;&amp;#26102;&amp;#65292;&amp;#34987;&amp;#31561;&amp;#24453;&amp;#30340;&amp;#32447;&amp;#31243;&amp;#36164;&amp;#28304;&amp;#34987;&amp;#25910;&amp;#22238;&amp;#12290;&amp;#33509;&amp;#32447;&amp;#31243;&amp;#24050;&amp;#32463;&amp;#34987;&amp;#25910;&amp;#22238;&amp;#65292;&amp;#37027;&amp;#20040;&amp;#35813;&amp;#20989;&amp;#25968;&amp;#20250;&amp;#31435;&amp;#21363;&amp;#36820;&amp;#22238;&amp;#10;   pthread_join(thread1, NULL);&amp;#10;   pthread_join(thread2, NULL);&amp;#10;&amp;#10;printf(&amp;#34;&amp;#36825;&amp;#36793;&amp;#21482;&amp;#26377;&amp;#32447;&amp;#31243;&amp;#34987;&amp;#22238;&amp;#25910;&amp;#21518;&amp;#25165;&amp;#20250;&amp;#25191;&amp;#34892;&amp;#65281;&amp;#34;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥å¸®pthread_mutex_lock(&amp;amp;mutex)å’Œpthread_mutex_unlock(&amp;amp;mutex)æ³¨é‡Šæ‰çœ‹ä¸‹æ‰“å°&lt;p&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æ„Ÿè°¢å¤§å®¶èŠ±è´¹æ—¶é—´æ¥æŸ¥çœ‹è¿™ç¯‡blogï¼Œéœ€è¦ä¸‹è½½demoçš„åŒå­¦è¯·çŒ›æˆ³&lt;a href=&quot;https://github.com/PanXianyue/BlogDemo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Git&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;å¤§å®¶éƒ½çŸ¥é“ibiremeçš„&lt;a href=&quot;https://github.com/ibireme/YYKit&quot;&gt;YYKit&lt;/a&gt;å¾ˆå¼ºå¤§ï¼Œä¸ªäººä¹Ÿç‰¹åˆ«ä½©æœibiremeã€‚å¤§ç¥å¸¸å¸¸æ•™å¯¼æˆ‘ä»¬è¿™æ ·çš„å°ç™½è¯´ï¼šå¤šè¯»æºç èƒ½å¤Ÿå¤§å¹…åº¦çš„æé«˜åŠŸåŠ›ã€‚ &lt;p&gt;æ¯å½“é¡¹ç›®ä¸Šçº¿åï¼Œéœ€æ±‚è¿˜æ²¡æœ‰ä¸‹æ¥æ—¶ï¼Œéƒ½ä¼šæœ‰ä¸€æ®µé—²æš‡æ—¶é—´ã€‚è¿™æ®µæ—¶é—´å­¦ä¹ æ˜¯æä½³çš„ã€‚YYKitè¿™ä¸ªæ¡†æ¶åˆšå¼€å§‹çœ‹çš„æ—¶å€™å°±é‡åˆ°pthreadè¿™ä¸ªç©æ„ï¼Œä¹‹å‰å¾ˆå°‘æ¥è§¦ã€‚åœ¨æ­¤ï¼Œè®°å½•è‡ªå·±çš„æ‰€å­¦æ‰€å¾—ï¼Œå¹¶åˆ†äº«ç»™å¤§å®¶ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
    
      <category term="YYKit" scheme="http://yoursite.com/tags/YYKit/"/>
    
      <category term="pthread" scheme="http://yoursite.com/tags/pthread/"/>
    
  </entry>
  
  <entry>
    <title>Runtimeå®æˆ˜ä¹‹å®šåˆ¶TabBarItemå¤§å°</title>
    <link href="http://yoursite.com/2016/05/11/Runtime-tabBarItem/"/>
    <id>http://yoursite.com/2016/05/11/Runtime-tabBarItem/</id>
    <published>2016-05-11T14:17:26.000Z</published>
    <updated>2018-06-22T07:25:27.000Z</updated>
    
    <content type="html">&lt;p&gt;æœ¬ç¯‡blogä¸»è¦è®²è§£å¦‚ä½•å®šåˆ¶TabBarItemçš„å¤§å°ï¼Œæœ€ç»ˆå®ç°AppStoreå„å¤§ä¸»æµAPP TabBarItemè¶…å‡ºTabBarçš„æ•ˆæœã€‚&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;u65B9_u6848_u4E00_uFF1AUIEdgeInsets&quot;&gt;&lt;a href=&quot;#u65B9_u6848_u4E00_uFF1AUIEdgeInsets&quot; class=&quot;headerlink&quot; title=&quot;æ–¹æ¡ˆä¸€ï¼šUIEdgeInsets&quot;&gt;&lt;/a&gt;æ–¹æ¡ˆä¸€ï¼šUIEdgeInsets&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯ï¼š&lt;/strong&gt; &lt;br&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€‚åˆAPPçš„TabBarItemImageçš„å›¾ç‰‡èµ„æºæ”¾åœ¨æœ¬åœ°&lt;/li&gt;
&lt;li&gt;å›¾ç‰‡è¶…å‡ºtabbarçš„é«˜åº¦ï¼Œéœ€ç§»åŠ¨å…¶ä½ç½®ï¼Œæ¥è¿›è¡Œé€‚åº”&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;å¼Šç«¯ï¼š&lt;/strong&gt; &lt;br&gt;&lt;/p&gt;
&lt;p&gt;è‹¥åœ¨æœ¬åœ°é…ç½®å¥½åï¼Œtabbarçš„å›¾ç‰‡å°±ä¸èƒ½æ”¹åŠ¨äº†ï¼Œè‹¥tabbarçš„å›¾ç‰‡æ¥è‡ªæœåŠ¡ç«¯ï¼Œä¸”ä¸åœçš„åˆ‡æ¢å›¾ç‰‡çš„å¤§å°ï¼Œä»¥ä¸Šåˆ™å¾ˆéš¾æ»¡è¶³ã€‚è‹¥æœ‰æ­¤æ–¹é¢çš„éœ€æ±‚è¯·çœ‹æ–¹æ¡ˆäºŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®ç°ï¼š&lt;/strong&gt; &lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;[tabbarItem setImageInsets:UIEdgeInsetsMake(&amp;lt;#CGFloat top#&amp;gt;, &amp;lt;#CGFloat left#&amp;gt;, &amp;lt;#CGFloat bottom#&amp;gt;, &amp;lt;#CGFloat right#&amp;gt;)]&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;æ³¨ï¼šå›¾ç‰‡å¤ªå¤§è¶…å‡ºtabbaræ—¶ï¼Œç³»ç»Ÿå¹¶ä¸ä¼šè°ƒæ•´imageå’Œtitleçš„ä½ç½®ï¼Œä½ éœ€è¦æ ¹æ®å›¾ç‰‡çš„é«˜åº¦ï¼Œè®¡ç®—å‡ºéœ€è¦å¾€ä¸Šç§»åŠ¨çš„é«˜åº¦ï¼Œç„¶åè®¾ç½®topå’Œbottomå±æ€§å³å¯ã€‚åˆ‡è®°top = - bottomï¼Œå¦åˆ™imageå°†ä¼šè¢«æ‹‰ä¼¸æˆ–è€…è¢«å‹ç¼©ã€‚&lt;/p&gt;
&lt;h1 id=&quot;u65B9_u6848_u4E8C_uFF1ARuntime&quot;&gt;&lt;a href=&quot;#u65B9_u6848_u4E8C_uFF1ARuntime&quot; class=&quot;headerlink&quot; title=&quot;æ–¹æ¡ˆäºŒï¼šRuntime&quot;&gt;&lt;/a&gt;æ–¹æ¡ˆäºŒï¼šRuntime&lt;/h1&gt;&lt;p&gt;åˆ©ç”¨runtimeçš„è¯ç›¸å¯¹æ–¹æ¡ˆä¸€æ¥è¯´è¦æ¯”è¾ƒå¤æ‚ä¸€ç‚¹ï¼Œä½†å…¶çµæ´»åº¦æ¯”è¾ƒé«˜ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ ¹æ®æœåŠ¡ç«¯æ‰€ç»™çš„imageæ¥åŠ¨æ€çš„å˜åŒ–TabBarItemçš„å¤§å°ï¼Œç±»ä¼¼åƒæ·˜å®ã€äº¬ä¸œæ´»åŠ¨æ—¶ã€‚æ€æƒ³ï¼šä¸»è¦æ˜¯åˆ©ç”¨runtimeå¯¹UITabBarçš„layoutSubviewsè¿›è¡Œé‡å†™ï¼Œç„¶åè°ƒæ•´UITabBarItemçš„ä½ç½®ã€‚å¦å¤–ï¼Œå½“æ—¶åœ¨åšçš„APPå·²ç»æœ‰4-5å¹´çš„å†å²äº†ï¼Œä¸€å¼€å§‹æ‰“ç®—è‡ªå·²å®šåˆ¶tabbarï¼Œå‘ç°è¦æ”¹åŠ¨çš„è¿˜æ˜¯æŒºå¤šçš„ï¼Œäºæ˜¯å°±æ”¾å¼ƒäº†ã€‚åšä¹‹å‰ä¹Ÿçœ‹äº†å‰è¾ˆiOSç¨‹åºçŠ­è¢çš„&lt;a href=&quot;https://github.com/ChenYilong/CYLTabBarController&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CYLTabBarController&lt;/a&gt;ï¼Œä»ä¸­ä¹Ÿå­¦åˆ°äº†ä¸å°‘æ€è·¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®ç°ï¼š&lt;/strong&gt; &lt;br&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆæˆ‘ä»¬ä½¿ç”¨runtime method swizzlingäº¤æ¢ç³»ç»Ÿçš„&lt;code&gt;- (void)layoutSubviews;&lt;/code&gt; &lt;br&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨KVCå¯¹ç³»ç»Ÿçš„UITabBarButtonã€UITabBarSwappableImageViewã€UITabBarButtonLabelã€_UIBadgeViewè¿›è¡Œæ•è· &lt;br&gt; &lt;/li&gt;
&lt;li&gt;æ‹¿åˆ°æ§ä»¶åæˆ‘ä»¬å¯¹å…¶çš„frameè¿›è¡Œè®¡ç®—ï¼Œåˆ¤æ–­å½“å‰æœ‰æ²¡æœ‰è¶…å‡ºtabbarçš„é«˜åº¦ï¼Œè‹¥è¶…å‡ºåˆ™è¿›è¡Œå¤„ç† &lt;br&gt;&lt;/li&gt;
&lt;li&gt;å†æ¬¡åˆ©ç”¨runtime method swizzlingäº¤æ¢ç³»ç»Ÿçš„&lt;code&gt;- (nullable UIView *)hitTest:(CGPoint)point withEvent:(nullable UIEvent *)event;&lt;/code&gt;ä½¿å›¾ç‰‡è¶…è¿‡åä¹Ÿèƒ½æ¥å—ç‚¹å‡» &lt;br&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ä»£ç ï¼š&lt;/strong&gt; &lt;br&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;method swizzlingï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;static void ExchangedMethod(SEL originalSelector, SEL swizzledSelector, Class class) &amp;#123;&amp;#10;    &amp;#10;    Method originalMethod = class_getInstanceMethod(class, originalSelector);&amp;#10;    Method swizzledMethod = class_getInstanceMethod(class, swizzledSelector);&amp;#10;    &amp;#10;    BOOL didAddMethod =&amp;#10;    class_addMethod(class,&amp;#10;                    originalSelector,&amp;#10;                    method_getImplementation(swizzledMethod),&amp;#10;                    method_getTypeEncoding(swizzledMethod));&amp;#10;    &amp;#10;    if (didAddMethod) &amp;#123;&amp;#10;        class_replaceMethod(class,&amp;#10;                            swizzledSelector,&amp;#10;                            method_getImplementation(originalMethod),&amp;#10;                            method_getTypeEncoding(originalMethod));&amp;#10;    &amp;#125;&amp;#10;    else &amp;#123;&amp;#10;        method_exchangeImplementations(originalMethod, swizzledMethod);&amp;#10;    &amp;#125;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;è®¡ç®—frameï¼Œå¹¶å¯¹å…¶é‡æ–°å¸ƒå±€&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;UIView *tabBarImageView, *tabBarButtonLabel, *tabBarBadgeView;&amp;#10;        for (UIView *sTabBarItem in childView.subviews) &amp;#123;&amp;#10;            if ([sTabBarItem isKindOfClass:NSClassFromString(@&amp;#34;UITabBarSwappableImageView&amp;#34;)]) &amp;#123;&amp;#10;                tabBarImageView = sTabBarItem;&amp;#10;            &amp;#125;&amp;#10;            else if ([sTabBarItem isKindOfClass:NSClassFromString(@&amp;#34;UITabBarButtonLabel&amp;#34;)]) &amp;#123;&amp;#10;                tabBarButtonLabel = sTabBarItem;&amp;#10;            &amp;#125;&amp;#10;            else if ([sTabBarItem isKindOfClass:NSClassFromString(@&amp;#34;_UIBadgeView&amp;#34;)]) &amp;#123;&amp;#10;                tabBarBadgeView = sTabBarItem;&amp;#10;            &amp;#125;&amp;#10;        &amp;#125;&amp;#10;&amp;#10;        NSString *tabBarButtonLabelText = ((UILabel *)tabBarButtonLabel).text;&amp;#10;  &amp;#10;        CGFloat y = CGRectGetHeight(self.bounds) - (CGRectGetHeight(tabBarButtonLabel.bounds) + CGRectGetHeight(tabBarImageView.bounds));&amp;#10;        if (y &amp;#60; 3) &amp;#123;&amp;#10;            if (!tabBarButtonLabelText.length) &amp;#123;&amp;#10;                space -= tabBarButtonLabelHeight;&amp;#10;            &amp;#125;&amp;#10;            &amp;#10;            childView.frame = CGRectMake(childView.frame.origin.x,&amp;#10;                                         y - space,&amp;#10;                                         childView.frame.size.width,&amp;#10;                                         childView.frame.size.height - y + space&amp;#10;                                         );&amp;#10;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;è®©å›¾ç‰‡è¶…å‡ºéƒ¨åˆ†ä¹Ÿèƒ½å“åº”ç‚¹å‡»äº‹ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (UIView *)s_hitTest:(CGPoint)point withEvent:(UIEvent *)event &amp;#123;&amp;#10;    if (!self.clipsToBounds &amp;#38;&amp;#38; !self.hidden &amp;#38;&amp;#38; self.alpha &amp;#62; 0) &amp;#123;&amp;#10;        UIView *result = [super hitTest:point withEvent:event];&amp;#10;        if (result) &amp;#123;&amp;#10;            return result;&amp;#10;        &amp;#125;&amp;#10;        else &amp;#123;&amp;#10;            for (UIView *subview in self.subviews.reverseObjectEnumerator) &amp;#123;&amp;#10;                CGPoint subPoint = [subview convertPoint:point fromView:self];&amp;#10;                result = [subview hitTest:subPoint withEvent:event];&amp;#10;                if (result) &amp;#123;&amp;#10;                    return result;&amp;#10;                &amp;#125;&amp;#10;            &amp;#125;&amp;#10;        &amp;#125;&amp;#10;    &amp;#125;&amp;#10;    return nil;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;u6CE8_u610F_u4E8B_u9879&quot;&gt;&lt;a href=&quot;#u6CE8_u610F_u4E8B_u9879&quot; class=&quot;headerlink&quot; title=&quot;æ³¨æ„äº‹é¡¹&quot;&gt;&lt;/a&gt;æ³¨æ„äº‹é¡¹&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;åœ¨ç»™tabbarè®¾ç½®å›¾ç‰‡çš„æ—¶å€™ä¸€å®šè¦è®¾ç½®å›¾ç‰‡çš„&lt;code&gt;renderingMode&lt;/code&gt;ï¼Œå¦åˆ™å°±ä¼šå‡ºç°ä¸‹å›¾ä¸­å›¾ç‰‡ä¸¢å¤±çš„ç°è±¡&lt;/li&gt;
&lt;li&gt;UITabBarButtonè¢«ä¿®æ”¹frameä¹‹åï¼Œä»…æœ‰UITabBarSwappableImageViewèƒ½å¤Ÿå“åº”ç‚¹å‡»äº‹ä»¶ï¼Œä¸è¿‡æˆ‘ä»¬èƒ½å¤Ÿåœ¨UITabBarçš„&lt;code&gt;- (void)touchesBegan:(NSSet&amp;lt;UITouch *&amp;gt; *)touches withEvent:(nullable UIEvent *)event;&lt;/code&gt;æ–¹æ³•ä¸­æ•è·åˆ°&lt;/li&gt;
&lt;li&gt;å½“é€‚é…å›¾ç‰‡åä¸è¦å¿˜è®°é€‚é…&lt;code&gt;_UIBadgeView&lt;/code&gt;çš„frame&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;u6548_u679C_u56FE&quot;&gt;&lt;a href=&quot;#u6548_u679C_u56FE&quot; class=&quot;headerlink&quot; title=&quot;æ•ˆæœå›¾&quot;&gt;&lt;/a&gt;æ•ˆæœå›¾&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;æ­£å¸¸ä¸­é—´è¶…å‡º &lt;br&gt;&lt;br&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/tabbar_image_render.png&quot; alt=&quot;éƒ¨åˆ†è¶…å‡º&quot;&gt;&lt;br&gt;&lt;/li&gt;
&lt;li&gt;åšæ´»åŠ¨æ—¶å…¨éƒ¨è¶…å‡º &lt;br&gt;&lt;br&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/tabbar_more_all.png&quot; alt=&quot;å…¨éƒ¨è¶…å‡º&quot;&gt;&lt;br&gt;&lt;/li&gt;
&lt;li&gt;å›¾ç‰‡ä¸¢å¤± &lt;br&gt;&lt;br&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/tabbar_more.png&quot; alt=&quot;å›¾ç‰‡ä¸¢å¤±&quot;&gt;&lt;br&gt;&lt;/li&gt;
&lt;li&gt;UIBadgeView &lt;br&gt;&lt;br&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/badgevalue.png&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æ„Ÿè°¢å¤§å®¶èŠ±è´¹æ—¶é—´æ¥æŸ¥çœ‹è¿™ç¯‡blogï¼Œéœ€è¦ä¸‹è½½demoçš„åŒå­¦è¯·çŒ›æˆ³&lt;a href=&quot;https://github.com/PanXianyue/BlogDemo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Git&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬ç¯‡blogä¸»è¦è®²è§£å¦‚ä½•å®šåˆ¶TabBarItemçš„å¤§å°ï¼Œæœ€ç»ˆå®ç°AppStoreå„å¤§ä¸»æµAPP TabBarItemè¶…å‡ºTabBarçš„æ•ˆæœã€‚&lt;br&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
    
  </entry>
  
  <entry>
    <title>åˆ©ç”¨XCToolå®ç°è‡ªåŠ¨åŒ–æ‰“åŒ…</title>
    <link href="http://yoursite.com/2016/02/13/xctool-package/"/>
    <id>http://yoursite.com/2016/02/13/xctool-package/</id>
    <published>2016-02-13T05:17:21.000Z</published>
    <updated>2018-06-22T07:25:27.000Z</updated>
    
    <content type="html">&lt;p&gt;ä¸€ä¸ªä¸ä¼šå·æ‡’çš„ç¨‹åºå‘˜ä¸æ˜¯ä¸€ä¸ªå¥½ç¨‹åºå‘˜ã€‚æ¯æ¬¡ç¼–è¯‘æ‰“åŒ…éƒ½è¦èŠ±å¥½é•¿çš„æ—¶é—´ï¼Œçœ‹äº†æœ¬ç¯‡åšå®¢åï¼Œå°±å¯ä»¥å¸®è¿™äº›æ— èŠçš„äº‹æƒ…äº¤ç»™XCToolæ¥åšï¼Œæˆ‘ä»¬å–å–èŒ¶ï¼Œæ’©æ’©å¦¹å°±è¡Œã€‚&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;XCTool&quot;&gt;&lt;a href=&quot;#XCTool&quot; class=&quot;headerlink&quot; title=&quot;XCTool&quot;&gt;&lt;/a&gt;XCTool&lt;/h1&gt;&lt;p&gt;xctoolæ˜¯Facebookå¼€æºçš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æ¥ä»£æ›¿è‹¹æœçš„xcodebuildå·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;åŠŸèƒ½å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åƒxcodeä¸€æ ·èƒ½å¤Ÿç¼–è¯‘ç¨‹åº&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘çš„ç»“æœèƒ½å¤Ÿä»¥ç»“æ„åŒ–çš„å½¢å¼è¾“å‡º&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘å†…å®¹è¾“å‡ºå½©è‰²ä¸”æ–¹ä¾¿é˜…è¯»&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;u5B89_u88C5XCTool&quot;&gt;&lt;a href=&quot;#u5B89_u88C5XCTool&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…XCTool&quot;&gt;&lt;/a&gt;å®‰è£…XCTool&lt;/h2&gt;&lt;p&gt;æœ€ç®€å•çš„åŠæ³•å°±æ˜¯ç”¨homebrewå®‰è£…xctoolï¼Œè¿™è¾¹å°±ä¸ä»‹ç»å¦‚ä½•å®‰è£…homebrewäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;brew install xctool&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ³¨ï¼šåœ¨ç”¨brewå®‰è£…xctoolçš„æ—¶å€™å¯èƒ½ä¼šå‡ºç°can not install with HEAD errorï¼Œå½“æ—¶å°è¯•å¾ˆå¤šåŠæ³•éƒ½æ²¡æœ‰æå®šï¼Œåƒå¸äº†é‡è£…â€¦ ç»ˆæè§£å†³æ–¹æ¡ˆï¼šç›´æ¥åˆ é™¤/usr/localé‡Œé¢é‡Œé¢æ‰€æœ‰çš„æ–‡ä»¶ï¼Œ&lt;em&gt;è¿™è¾¹ä¼šå¯¼è‡´ä½ ä¹‹å‰å®‰è£…çš„ä¸€äº›æ’ä»¶ä¼šè¢«åˆ é™¤ï¼ŒåƒCocoaPods&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&quot;u7F16_u8BD1&quot;&gt;&lt;a href=&quot;#u7F16_u8BD1&quot; class=&quot;headerlink&quot; title=&quot;ç¼–è¯‘&quot;&gt;&lt;/a&gt;ç¼–è¯‘&lt;/h2&gt;&lt;p&gt;&lt;code&gt;xctool -workspace ${project_path}/${project_name}.xcworkspace -scheme ${project_name} archive -archivePath ${project_path}/build/Debug-iphoneos/${project_name}_Debug.xcarchive -configuration ${build_Mode} || exit&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&quot;XcodeBuild&quot;&gt;&lt;a href=&quot;#XcodeBuild&quot; class=&quot;headerlink&quot; title=&quot;XcodeBuild&quot;&gt;&lt;/a&gt;XcodeBuild&lt;/h1&gt;&lt;p&gt;shellé‡Œé¢ä¼šåˆ©ç”¨xcodebuildè¿›è¡Œæ‰“åŒ…ã€æ¸…ç†å·¥ç¨‹&lt;/p&gt;
&lt;h2 id=&quot;u6253_u5305&quot;&gt;&lt;a href=&quot;#u6253_u5305&quot; class=&quot;headerlink&quot; title=&quot;æ‰“åŒ…&quot;&gt;&lt;/a&gt;æ‰“åŒ…&lt;/h2&gt;&lt;p&gt;&lt;code&gt;xcodebuild -exportArchive -archivePath ${project_path}/build/Debug-iphoneos/${project_name}_Debug.xcarchive -exportPath ${buildExportPath}/debug.ipa -exportFormat ipa \
-exportProvisioningProfile &amp;quot;${profile_name}&amp;quot; || exit&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;u6E05_u7406_u5DE5_u7A0B&quot;&gt;&lt;a href=&quot;#u6E05_u7406_u5DE5_u7A0B&quot; class=&quot;headerlink&quot; title=&quot;æ¸…ç†å·¥ç¨‹&quot;&gt;&lt;/a&gt;æ¸…ç†å·¥ç¨‹&lt;/h2&gt;&lt;p&gt;&lt;code&gt;xcodebuild clean -configuration ${build_Mode} || exit&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&quot;Linux_u547D_u4EE4&quot;&gt;&lt;a href=&quot;#Linux_u547D_u4EE4&quot; class=&quot;headerlink&quot; title=&quot;Linuxå‘½ä»¤&quot;&gt;&lt;/a&gt;Linuxå‘½ä»¤&lt;/h1&gt;&lt;p&gt;shellé‡Œé¢ä¼šæ¶‰åŠåˆ°ä¸€äº›Linuxå‘½ä»¤ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;echo &amp;quot;è¾“å‡ºå†…å®¹&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;echo &amp;#39;è¾“å‡ºå†…å®¹&amp;#39;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¾“å‡ºä½ æƒ³è¦è¾“å‡ºçš„ä¸œè¥¿ï¼Œ&lt;em&gt;â€˜ â€™è¡¨ç¤ºè¦è¾“å‡ºçš„å†…å®¹ä¸ºçº¯å­—ç¬¦ä¸²ï¼Œä¸å¯å¼•ç”¨å˜é‡ï¼Œâ€œâ€è¡¨ç¤ºè¾“å‡ºçš„å†…å®¹å¯åŒ…å«å˜é‡&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cd ..&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å›é€€ä¸Šä¸€çº§ç›®å½•&lt;/p&gt;
&lt;p&gt;&lt;code&gt;makdir&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ–°å»ºä¸€ä¸ªç›®å½•&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rm -rf &amp;quot;content&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åˆ é™¤æ–‡ä»¶å¤¹é‡Œé¢çš„æ‰€æœ‰å†…å®¹&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»¥ä¸Šå†…å®¹çº¯å±è™šæ„ï¼Œè‹¥ä¸æ„Ÿå…´è¶£ï¼Œå®Œå…¨å¯ä»¥è·³è¿‡ï¼Œç›´å¥”ä½¿ç”¨~&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&quot;u4F7F_u7528_u6559_u7A0B&quot;&gt;&lt;a href=&quot;#u4F7F_u7528_u6559_u7A0B&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨æ•™ç¨‹&quot;&gt;&lt;/a&gt;ä½¿ç”¨æ•™ç¨‹&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;å°†ipa_buildè¿™ä¸ªæ–‡ä»¶å¤¹ç§»åˆ°å’Œ.xcodeprojæˆ–.xcworkspaceåŒä¸€çº§ç›®å½•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ‰“å¼€build_debugæˆ–è€…build_releaseæ–‡ä»¶ï¼Œæ›¿æ¢profile_nameå­—æ®µï¼Œæ›¿æ¢ä¸ºä½ è¦æ‰“åŒ…é¡¹ç›®çš„profile name&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ‰“å¼€ä½ çš„å­—æ®µ  &lt;code&gt;cd è„šæœ¬æ‰€åœ¨çš„ç›®å½•&lt;/code&gt; -&amp;gt; &lt;code&gt;chmod 777 build_debug.sh (ä»…ç¬¬ä¸€æ¬¡çš„æ—¶å€™éœ€è¦)&lt;/code&gt; -&amp;gt; &lt;code&gt;./build_debug.sh&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æŸ¥çœ‹ä½ çš„æ¡Œé¢å³å¯ä»¥æŸ¥çœ‹å¯¼å‡ºçš„IPAåŒ…&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ„Ÿè°¢å¤§å®¶èŠ±è´¹æ—¶é—´æ¥æŸ¥çœ‹è¿™ç¯‡blogï¼Œéœ€è¦ä¸‹è½½shellçš„åŒå­¦è¯·çŒ›æˆ³&lt;a href=&quot;https://github.com/PanXianyue/ipa_build&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Git&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸€ä¸ªä¸ä¼šå·æ‡’çš„ç¨‹åºå‘˜ä¸æ˜¯ä¸€ä¸ªå¥½ç¨‹åºå‘˜ã€‚æ¯æ¬¡ç¼–è¯‘æ‰“åŒ…éƒ½è¦èŠ±å¥½é•¿çš„æ—¶é—´ï¼Œçœ‹äº†æœ¬ç¯‡åšå®¢åï¼Œå°±å¯ä»¥å¸®è¿™äº›æ— èŠçš„äº‹æƒ…äº¤ç»™XCToolæ¥åšï¼Œæˆ‘ä»¬å–å–èŒ¶ï¼Œæ’©æ’©å¦¹å°±è¡Œã€‚&lt;br&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
    
      <category term="LINUXå‘½ä»¤" scheme="http://yoursite.com/tags/LINUX%E5%91%BD%E4%BB%A4/"/>
    
      <category term="SHELL" scheme="http://yoursite.com/tags/SHELL/"/>
    
      <category term="XCTOOL" scheme="http://yoursite.com/tags/XCTOOL/"/>
    
  </entry>
  
  <entry>
    <title>æµ…è°ˆSocketå­¦ä¹ ä¸­çš„é‚£äº›äº‹</title>
    <link href="http://yoursite.com/2016/01/16/Socket/"/>
    <id>http://yoursite.com/2016/01/16/Socket/</id>
    <published>2016-01-16T13:17:20.000Z</published>
    <updated>2018-06-22T07:25:27.000Z</updated>
    
    <content type="html">&lt;p&gt;Socketæ˜¯ä¸ºç½‘ç»œæœåŠ¡æä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œå¸Œæœ›ç»è¿‡æ­¤æ¬¡çš„å­¦ä¹ ï¼Œèƒ½å¤Ÿæ­å¼€Socketç¥ç§˜é¢çº±ã€‚åœ¨æ­¤ä»…æƒ³è®°å½•è‡ªå·±çš„å­¦ä¹ å†ç¨‹å’Œä¸€äº›å­¦ä¹ å¿ƒå¾—ã€‚&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;OSI_u3001TCP_5CIP_u53C2_u8003_u6A21_u578B&quot;&gt;&lt;a href=&quot;#OSI_u3001TCP_5CIP_u53C2_u8003_u6A21_u578B&quot; class=&quot;headerlink&quot; title=&quot;OSIã€TCP\IPå‚è€ƒæ¨¡å‹&quot;&gt;&lt;/a&gt;OSIã€TCP\IPå‚è€ƒæ¨¡å‹&lt;/h1&gt;&lt;p&gt;

&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/OSI%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;

&lt;/p&gt;&lt;h2 id=&quot;u7B80_u5355_u89E3_u91CA&quot;&gt;&lt;a href=&quot;#u7B80_u5355_u89E3_u91CA&quot; class=&quot;headerlink&quot; title=&quot;ç®€å•è§£é‡Š&quot;&gt;&lt;/a&gt;ç®€å•è§£é‡Š&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ç‰©ç†å±‚ï¼šä¸»è¦å®šä¹‰ç‰©ç†è®¾å¤‡æ ‡å‡†ï¼Œå¦‚ç½‘çº¿çš„æ¥å£ç±»å‹ã€å„ç§ä¼ è¾“ä»‹è´¨çš„ä¼ è¾“é€Ÿç‡ç­‰ã€‚2. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ•°æ®é“¾è·¯å±‚ï¼šä¸»è¦å°†ä»ç‰©ç†å±‚æ¥æ”¶çš„æ•°æ®è¿›è¡ŒMACåœ°å€çš„å°è£…ä¸è§£å°è£…ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç½‘ç»œå±‚ï¼šé€‰æ‹©åˆé€‚çš„ç½‘é—´è·¯ç”±å’Œäº¤æ¢ç»“ç‚¹ï¼Œç¡®ä¿æ•°æ®åŠæ—¶ä¼ é€ï¼Œå°†ä»ä¸‹å±‚æ¥æ”¶åˆ°çš„æ•°æ®è¿›è¡ŒIPåœ°å€çš„å°è£…ä¸è§£å°è£…ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä¼ è¾“å±‚ï¼šå®šä¹‰äº†ä¸€äº›ä¼ è¾“æ•°æ®çš„åè®®å’Œç«¯å£ï¼Œå¦‚TCPã€UDPåè®®ï¼Œä¸»è¦å°†ä»ä¸‹å±‚æ¥æ”¶çš„æ•°æ®è¿›è¡Œåˆ†æ®µå’Œä¼ è¾“ï¼Œåˆ°è¾¾ç›®çš„åœ°å€åå†è¿›è¡Œé‡ç»„ï¼Œä»¥å¾€æŠŠè¿™ä¸€å±‚æ•°æ®å«åšæ®µã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä¼šè¯å±‚ï¼šé€šè¿‡ä¼ è¾“å±‚å»ºç«‹æ•°æ®ä¼ è¾“é€šè·¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è¡¨ç¤ºå±‚ï¼šä¸»è¦æ˜¯è¿›è¡Œå¯¹æ¥æ”¶çš„æ•°æ®è¿›è¡Œè§£é‡Šã€å‹ç¼©ä¸è§£å‹ç¼©ç­‰ï¼Œå³æŠŠè®¡ç®—æœºèƒ½å¤Ÿè¯†åˆ«çš„ä¸œè¥¿è½¬åŒ–æˆäººèƒ½å¤Ÿè¯†åˆ«çš„ä¸œè¥¿ï¼ˆå¦‚å›¾ç‰‡ã€å£°éŸ³ç­‰ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åº”ç”¨å±‚ï¼šä¸»è¦æ˜¯ä¸€äº›ç»ˆç«¯çš„åº”ç”¨ï¼Œæ¯”å¦‚è¯´FTPï¼ˆå„ç§æ–‡ä»¶ä¸‹è½½ï¼‰ã€æµè§ˆå™¨ã€QQç­‰ï¼Œå¯ä»¥å°†å…¶ç†è§£ä¸ºåœ¨ç”µè„‘å±å¹•ä¸Šå¯ä»¥çœ‹åˆ°çš„ä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯ç»ˆç«¯åº”ç”¨ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;u7F51_u7EDC_u901A_u8BAF_u8981_u7D20&quot;&gt;&lt;a href=&quot;#u7F51_u7EDC_u901A_u8BAF_u8981_u7D20&quot; class=&quot;headerlink&quot; title=&quot;ç½‘ç»œé€šè®¯è¦ç´ &quot;&gt;&lt;/a&gt;ç½‘ç»œé€šè®¯è¦ç´ &lt;/h2&gt;&lt;p&gt;&lt;strong&gt;IPåœ°å€&lt;/strong&gt;ï¼šç½‘ç»œä¸­è®¾å¤‡çš„æ ‡ç¤º&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç«¯å£å·&lt;/strong&gt;ï¼šç”¨æ¥æ ‡ç¤ºè¿›ç¨‹çš„é€»è¾‘åœ°å€ï¼Œä¸åŒè¿›ç¨‹çš„æ ‡ç¤º&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¼ è¾“åè®®&lt;/strong&gt;ï¼šç”¨ä»€ä¹ˆæ ·çš„æ–¹å¼è¿›è¡Œäº¤äº’ï¼Œå¸¸è§åè®®TCP/UDP&lt;/p&gt;
&lt;h1 id=&quot;TCP/UDP&quot;&gt;&lt;a href=&quot;#TCP/UDP&quot; class=&quot;headerlink&quot; title=&quot;TCP/UDP&quot;&gt;&lt;/a&gt;TCP/UDP&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;TCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;å»ºç«‹è¿æ¥ï¼Œå½¢æˆæ•°æ®ä¼ è¾“çš„é€šé“&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åœ¨è¿æ¥ä¸­å¯è¿›è¡Œå¤§æ•°æ®ä¼ è¾“ï¼ˆæ•°æ®çš„å¤§å°ä¸å—é™åˆ¶ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œå¯é åè®®ï¼Œå®‰å…¨é€è¾¾&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å…ˆå»ºç«‹è¿æ¥ï¼Œæ•ˆç‡è¾ƒä½&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;UDPï¼ˆç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ä¸éœ€è¦å»ºç«‹è¿æ¥ï¼Œå°†æ•°æ®å°è£…åœ¨æ•°æ®åŒ…ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¯ä¸ªæ•°æ®åŒ…å¾—å¤§å°é™åˆ¶åœ¨64kä¹‹å†…&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ— éœ€è¿æ¥ï¼Œæ˜¯ä¸å¯é åè®®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä¸éœ€è¦è¿æ¥ï¼Œé€Ÿåº¦è¾ƒå¿«&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;Socket&quot;&gt;&lt;a href=&quot;#Socket&quot; class=&quot;headerlink&quot; title=&quot;Socket&quot;&gt;&lt;/a&gt;Socket&lt;/h1&gt;&lt;h2 id=&quot;u7B80_u5355_u89E3_u91CA-1&quot;&gt;&lt;a href=&quot;#u7B80_u5355_u89E3_u91CA-1&quot; class=&quot;headerlink&quot; title=&quot;ç®€å•è§£é‡Š&quot;&gt;&lt;/a&gt;ç®€å•è§£é‡Š&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ç½‘ç»œæä¾›æœåŠ¡çš„ä¸€ç§æœºåˆ¶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é€šä¿¡çš„ä¸¤ç«¯éƒ½æ˜¯socket&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç½‘ç»œé€šä¿¡å…¶å®å°±æ˜¯socketé—´çš„é€šä¿¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ•°æ®åœ¨ä¸¤ä¸ªsocketé—´é€šè¿‡IOä¼ è¾“&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;http://7xq5ax.com1.z0.glb.clouddn.com/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%B5%81.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;iOS_u4E2D_u5E38_u7528_u7684_u4E24_u79CDSocket_u7C7B_u578B&quot;&gt;&lt;a href=&quot;#iOS_u4E2D_u5E38_u7528_u7684_u4E24_u79CDSocket_u7C7B_u578B&quot; class=&quot;headerlink&quot; title=&quot;iOSä¸­å¸¸ç”¨çš„ä¸¤ç§Socketç±»å‹&quot;&gt;&lt;/a&gt;iOSä¸­å¸¸ç”¨çš„ä¸¤ç§Socketç±»å‹&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;æµå¼Socketï¼ˆSOCK_STREAMï¼‰&lt;/strong&gt;ï¼šæµå¼æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„Socketï¼Œé’ˆå¯¹äºé¢å‘è¿æ¥çš„TCPæœåŠ¡åº”ç”¨&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ•°æ®æŠ¥å¼Socketï¼ˆSOCK_DGRAMï¼‰&lt;/strong&gt;ï¼šæ•°æ®æŠ¥å¼Socketæ˜¯ä¸€ç§æ— è¿æ¥çš„Socketï¼Œå¯¹åº”äºæ— è¿æ¥çš„UDPæœåŠ¡åº”ç”¨&lt;/p&gt;
&lt;h2 id=&quot;Http_u4E0ESocket_u7684_u533A_u522B&quot;&gt;&lt;a href=&quot;#Http_u4E0ESocket_u7684_u533A_u522B&quot; class=&quot;headerlink&quot; title=&quot;Httpä¸Socketçš„åŒºåˆ«&quot;&gt;&lt;/a&gt;Httpä¸Socketçš„åŒºåˆ«&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Httpæ˜¯åŸºäºSocketçš„å®ç°ï¼›Httpåº”ç”¨å±‚åè®®ï¼Œä¸»è¦è§£å†³å¦‚ä½•åŒ…è£…æ•°æ®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Httpä¼ è¾“çš„æ•°æ®æ ¼å¼æ˜¯è§„å®šå¥½çš„ï¼ŒSocketå®ç°æ•°æ®ä¼ è¾“æ˜¯æœ€åŸå§‹ï¼ŒSocketå®ç°çš„æ•°æ®ä¼ è¾“æ ¼å¼å¯è‡ªå®šä¹‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Httpå»ºç«‹çš„è¿æ¥ç§°ä¸ºçŸ­è¿æ¥ï¼ŒSocketå»ºç«‹çš„è¿æ¥ä¸ºé•¿è¿æ¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Socketæ˜¯å¯¹TCP/IPåè®®çš„å°è£…ï¼ŒSocketæœ¬èº«å¹¶ä¸æ˜¯åè®®ï¼Œè€Œæ˜¯ä¸€ä¸ªè°ƒç”¨æ¥å£(API),é€šè¿‡Socketæˆ‘ä»¬æ‰èƒ½ä½¿ç”¨TCP/IPåè®®&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;u6700_u540E&quot;&gt;&lt;a href=&quot;#u6700_u540E&quot; class=&quot;headerlink&quot; title=&quot;æœ€å&quot;&gt;&lt;/a&gt;æœ€å&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ä¼šæ¨¡ä»¿å¾®ä¿¡åšç±»ä¼¼çš„demoï¼Œæ¶‰åŠåˆ°çš„ä¸€äº›ç›¸å…³åœ°å€å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;iOS XMPPæ¡†æ¶ï¼š&lt;a href=&quot;https://github.com/robbiehanson/XMPPFramework&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/robbiehanson/XMPPFramework&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Serverï¼š&lt;a href=&quot;http://www.igniterealtime.org/downloads/index.jsp&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.igniterealtime.org/downloads/index.jsp&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ•°æ®åº“ï¼š&lt;a href=&quot;http://dev.mysql.com/downloads/mysql/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://dev.mysql.com/downloads/mysql/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Socketæ˜¯ä¸ºç½‘ç»œæœåŠ¡æä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œå¸Œæœ›ç»è¿‡æ­¤æ¬¡çš„å­¦ä¹ ï¼Œèƒ½å¤Ÿæ­å¼€Socketç¥ç§˜é¢çº±ã€‚åœ¨æ­¤ä»…æƒ³è®°å½•è‡ªå·±çš„å­¦ä¹ å†ç¨‹å’Œä¸€äº›å­¦ä¹ å¿ƒå¾—ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
    
      <category term="HTTP" scheme="http://yoursite.com/tags/HTTP/"/>
    
      <category term="SOCKET" scheme="http://yoursite.com/tags/SOCKET/"/>
    
      <category term="TCP" scheme="http://yoursite.com/tags/TCP/"/>
    
      <category term="UDP" scheme="http://yoursite.com/tags/UDP/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ç¯‡æå®šRSAåŠ å¯†ä¸SHAç­¾å</title>
    <link href="http://yoursite.com/2016/01/12/RSA-SHA/"/>
    <id>http://yoursite.com/2016/01/12/RSA-SHA/</id>
    <published>2016-01-12T09:19:25.000Z</published>
    <updated>2018-06-22T07:25:27.000Z</updated>
    
    <content type="html">&lt;p&gt;çœ‹åˆ°è¿™ç¯‡æ–‡ç« çš„åŒå­¦å¯å¹¸ç¦äº†ï¼Œå½“æ—¶åœ¨åšRSAåŠ å¯†ä¸ç­¾åçš„æ—¶å€™ç½‘ä¸Šçš„èµ„æ–™ç®€ç›´ä¸è¦å¤ªè€ï¼Œåšå®Œåå®åœ¨æ˜¯å¿å—ä¸ä¸‹å»äº†ï¼Œè¿™ç¯‡æ–‡ç« æˆ‘ä¼šè¯¦ç»†è®²è§£iOSå¦‚ä½•å®ç°RSAåŠ å¯†ä¸ç­¾åï¼Œå¹¶ä¸”ä¸Javaå®Œå…¨åŒæ­¥ã€‚&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;u57FA_u7840_u77E5_u8BC6&quot;&gt;&lt;a href=&quot;#u57FA_u7840_u77E5_u8BC6&quot; class=&quot;headerlink&quot; title=&quot;åŸºç¡€çŸ¥è¯†&quot;&gt;&lt;/a&gt;åŸºç¡€çŸ¥è¯†&lt;/h1&gt; &lt;p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯RSAï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;ç­”ï¼šRSAæ˜¯ä¸€ç§éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œå¸¸ç”¨æ¥å¯¹ä¼ è¾“æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œé…åˆä¸Šæ•°å­—æ‘˜è¦ç®—æ³•ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œæ–‡å­—ç­¾åã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;RSAåŠ å¯†ä¸­paddingï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;ç­”ï¼špaddingå³å¡«å……æ–¹å¼ï¼Œç”±äºRSAåŠ å¯†ç®—æ³•ä¸­è¦åŠ å¯†çš„æ˜æ–‡æ˜¯è¦æ¯”æ¨¡æ•°å°çš„ï¼Œpaddingå°±æ˜¯é€šè¿‡ä¸€äº›å¡«å……æ–¹å¼æ¥é™åˆ¶æ˜æ–‡çš„é•¿åº¦ã€‚åé¢ä¼šè¯¦ç»†ä»‹ç»paddingçš„å‡ ç§æ¨¡å¼ä»¥åŠåˆ†æ®µåŠ å¯†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;åŠ å¯†å’ŒåŠ ç­¾æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;ç­”ï¼šåŠ å¯†ï¼šå…¬é’¥æ”¾åœ¨å®¢æˆ·ç«¯ï¼Œå¹¶ä½¿ç”¨å…¬é’¥å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼ŒæœåŠ¡ç«¯æ‹¿åˆ°æ•°æ®åç”¨ç§é’¥è¿›è¡Œè§£å¯†ï¼›&lt;br&gt;   åŠ ç­¾ï¼šç§é’¥æ”¾åœ¨å®¢æˆ·ç«¯ï¼Œå¹¶ä½¿ç”¨ç§é’¥å¯¹æ•°æ®è¿›è¡ŒåŠ ç­¾ï¼ŒæœåŠ¡ç«¯æ‹¿åˆ°æ•°æ®åç”¨å…¬é’¥è¿›è¡ŒéªŒç­¾ã€‚&lt;br&gt;å‰è€…å®Œå…¨ä¸ºäº†åŠ å¯†ï¼›åè€…ä¸»è¦æ˜¯ä¸ºäº†é˜²æ¶æ„æ”»å‡»ï¼Œé˜²æ­¢åˆ«äººæ¨¡æ‹Ÿæˆ‘ä»¬çš„å®¢æˆ·ç«¯å¯¹æˆ‘ä»¬çš„æœåŠ¡å™¨è¿›è¡Œæ”»å‡»ï¼Œå¯¼è‡´æœåŠ¡å™¨ç˜«ç—ªã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/p&gt;&lt;h1 id=&quot;u57FA_u672C_u539F_u7406&quot;&gt;&lt;a href=&quot;#u57FA_u672C_u539F_u7406&quot; class=&quot;headerlink&quot; title=&quot;åŸºæœ¬åŸç†&quot;&gt;&lt;/a&gt;åŸºæœ¬åŸç†&lt;p&gt;&lt;/p&gt;&lt;/h1&gt;&lt;p&gt;RSAä½¿ç”¨â€œå¯†é’¥å¯¹â€å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†è§£å¯†ï¼Œåœ¨åŠ å¯†è§£å¯†å‰éœ€è¦å…ˆç”Ÿå­˜å…¬é’¥ï¼ˆPublic Keyï¼‰å’Œç§é’¥ï¼ˆPrivate Keyï¼‰ã€‚&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;strong&gt;å…¬é’¥(Public key):&lt;/strong&gt; ç”¨äºåŠ å¯†æ•°æ®. ç”¨äºå…¬å¼€, ä¸€èˆ¬å­˜æ”¾åœ¨æ•°æ®æä¾›æ–¹, ä¾‹å¦‚iOSå®¢æˆ·ç«¯ã€‚&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;strong&gt;ç§é’¥(Private key):&lt;/strong&gt; ç”¨äºè§£å¯†æ•°æ®. å¿…é¡»ä¿å¯†, ç§é’¥æ³„éœ²ä¼šé€ æˆå®‰å…¨é—®é¢˜ã€‚&lt;/p&gt;&lt;p&gt;&lt;br&gt;iOSä¸­çš„Security.frameworkæä¾›äº†å¯¹RSAç®—æ³•çš„æ”¯æŒï¼Œè¿™ç§æ–¹å¼éœ€è¦å¯¹å¯†åŒ™å¯¹è¿›è¡Œå¤„ç†, æ ¹æ®public keyç”Ÿæˆè¯ä¹¦, é€šè¿‡private keyç”Ÿæˆp12æ ¼å¼çš„å¯†åŒ™ã€‚æƒ³æƒ³javeç›´æ¥ç”¨å­—ç¬¦ä¸²è¿›è¡ŒåŠ å¯†è§£å¯†ç®€å•å¤šäº†ã€‚(âŠ™oâŠ™)â€¦&lt;/p&gt;
&lt;h1 id=&quot;u5B9E_u6218&quot;&gt;&lt;a href=&quot;#u5B9E_u6218&quot; class=&quot;headerlink&quot; title=&quot;å®æˆ˜&quot;&gt;&lt;/a&gt;å®æˆ˜&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
&lt;h2 id=&quot;u8BC1_u4E66_u751F_u6210&quot;&gt;&lt;a href=&quot;#u8BC1_u4E66_u751F_u6210&quot; class=&quot;headerlink&quot; title=&quot;è¯ä¹¦ç”Ÿæˆ&quot;&gt;&lt;/a&gt;è¯ä¹¦ç”Ÿæˆ&lt;/h2&gt;&lt;p&gt;RSAåŠ å¯†è¿™å—å…¬é’¥ã€ç§é’¥å¿…ä¸å¯å°‘çš„ã€‚&lt;strong&gt;Appleæ˜¯ä¸æ”¯æŒç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²è¿›è¡ŒåŠ å¯†è§£å¯†çš„ï¼Œæ¨èä½¿ç”¨p12æ–‡ä»¶&lt;/strong&gt;ã€‚è¿™è¾¹æ•™å¤§å®¶å»ç”Ÿæˆåœ¨åŠ å¯†ä¸­ä½¿ç”¨åˆ°çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¹¶æä¾›ç»™Javaä½¿ç”¨ï¼Œæƒ³å½“å¹´è¿™ä¸ªå…¬é’¥ç§é’¥æäº†åŠå¤©äº†ã€‚ %&amp;gt;_&amp;lt;%&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;ç”Ÿæˆæ¨¡é•¿ä¸º1024bitçš„ç§é’¥&lt;br&gt;openssl genrsa -out private_key.pem 1024&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆcertification require file&lt;br&gt;openssl req -new -key private_key.pem -out rsaCertReq.csr &lt;/li&gt;
&lt;li&gt;ç”Ÿæˆcertification å¹¶æŒ‡å®šè¿‡æœŸæ—¶é—´&lt;br&gt;openssl x509 -req -days3650-in rsaCertReq.csr -signkey private_key.pem -out rsaCert.crt&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆå…¬é’¥ä¾›iOSä½¿ç”¨&lt;br&gt;openssl x509 -outform der -in rsaCert.crt -out public_key.der&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆç§é’¥ä¾›iOSä½¿ç”¨ è¿™è¾¹ä¼šè®©ä½ è¾“å…¥å¯†ç ï¼ŒåæœŸç”¨åˆ°åœ¨ç”ŸæˆsecKeyRefçš„æ—¶å€™ä¼šç”¨åˆ°è¿™ä¸ªå¯†ç &lt;br&gt;openssl pkcs12 -export -out private_key.p12 -inkey private_key.pem -in rsaCert.crt&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆpemç»“å°¾çš„å…¬é’¥ä¾›Javaä½¿ç”¨&lt;br&gt;openssl rsa -in private_key.pem -out rsa_public_key.pem -pubout&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆpemç»“å°¾çš„ç§é’¥ä¾›Javaä½¿ç”¨openssl pkcs8 -topk8 -in private_key.pem -out pkcs8_private_key.pem -nocrypt&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä»¥ä¸Šæ‰€æœ‰çš„æ­¥éª¤éƒ½æ˜¯åœ¨ç»ˆç«¯ä¸‹å®Œæˆçš„å“¦  (&lt;em&gt;^__^&lt;/em&gt;)&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;u751F_u6210_u516C_u94A5_u548C_u79C1_u94A5_u7684secKeyRef&quot;&gt;&lt;a href=&quot;#u751F_u6210_u516C_u94A5_u548C_u79C1_u94A5_u7684secKeyRef&quot; class=&quot;headerlink&quot; title=&quot;ç”Ÿæˆå…¬é’¥å’Œç§é’¥çš„secKeyRef&quot;&gt;&lt;/a&gt;ç”Ÿæˆå…¬é’¥å’Œç§é’¥çš„secKeyRef&lt;p&gt;&lt;/p&gt;&lt;/h2&gt;   &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;   //&amp;#26681;&amp;#25454;&amp;#20320;&amp;#30340;p12&amp;#25991;&amp;#20214;&amp;#29983;&amp;#25104;&amp;#31169;&amp;#38053;&amp;#23545;&amp;#24212;&amp;#30340;SecKeyRef &amp;#36825;&amp;#36793;&amp;#36820;&amp;#22238;&amp;#33509;&amp;#26159;nil &amp;#35831;&amp;#26816;&amp;#26597;&amp;#20320;p12&amp;#25991;&amp;#20214;&amp;#30340;&amp;#29983;&amp;#25104;&amp;#27493;&amp;#39588;&amp;#10;- (SecKeyRef)getPrivateKeyRefrenceFromData:(NSData*)p12Data password:(NSString*)password &amp;#123;&amp;#10;&amp;#10;SecKeyRef privateKeyRef = NULL;&amp;#10;NSMutableDictionary * options = [[NSMutableDictionary alloc] init];&amp;#10;[options setObject: password forKey:(__bridge id)kSecImportExportPassphrase];&amp;#10;CFArrayRef items = CFArrayCreate(NULL, 0, 0, NULL);&amp;#10;OSStatus securityError = SecPKCS12Import((__bridge CFDataRef) p12Data, (__bridge CFDictionaryRef)options, &amp;#38;items);&amp;#10;if (securityError == noErr &amp;#38;&amp;#38; CFArrayGetCount(items) &amp;#62; 0) &amp;#123;&amp;#10;    CFDictionaryRef identityDict = CFArrayGetValueAtIndex(items, 0);&amp;#10;    SecIdentityRef identityApp = (SecIdentityRef)CFDictionaryGetValue(identityDict, kSecImportItemIdentity);&amp;#10;    securityError = SecIdentityCopyPrivateKey(identityApp, &amp;#38;privateKeyRef);&amp;#10;    if (securityError != noErr) &amp;#123;&amp;#10;        privateKeyRef = NULL;&amp;#10;    &amp;#125;&amp;#10;&amp;#125;&amp;#10;CFRelease(items);&amp;#10;&amp;#10;return privateKeyRef;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
   &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;    //&amp;#26681;&amp;#25454;&amp;#20320;&amp;#30340;der&amp;#25991;&amp;#20214;&amp;#20844;&amp;#38053;&amp;#23545;&amp;#24212;&amp;#30340;SecKeyRef&amp;#10; - (SecKeyRef)getPublicKeyRefrenceFromeData:    (NSData*)derData &amp;#123;&amp;#10;&amp;#10;SecCertificateRef myCertificate = SecCertificateCreateWithData(kCFAllocatorDefault, (__bridge CFDataRef)derData);&amp;#10;SecPolicyRef myPolicy = SecPolicyCreateBasicX509();&amp;#10;SecTrustRef myTrust;&amp;#10;OSStatus status = SecTrustCreateWithCertificates(myCertificate,myPolicy,&amp;#38;myTrust);&amp;#10;SecTrustResultType trustResult;&amp;#10;if (status == noErr) &amp;#123;&amp;#10;    status = SecTrustEvaluate(myTrust, &amp;#38;trustResult);&amp;#10;&amp;#125;&amp;#10;SecKeyRef securityKey = SecTrustCopyPublicKey(myTrust);&amp;#10;CFRelease(myCertificate);&amp;#10;CFRelease(myPolicy);&amp;#10;CFRelease(myTrust);&amp;#10;&amp;#10;return securityKey;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;u52A0_u5BC6_u4E0E_u89E3_u5BC6&quot;&gt;&lt;a href=&quot;#u52A0_u5BC6_u4E0E_u89E3_u5BC6&quot; class=&quot;headerlink&quot; title=&quot;åŠ å¯†ä¸è§£å¯†&quot;&gt;&lt;/a&gt;åŠ å¯†ä¸è§£å¯† &lt;p&gt;&lt;/p&gt;&lt;/h2&gt; &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (NSData*)rsaEncryptData:(NSData*)data &amp;#123;&amp;#10;   SecKeyRef key = [self getPublicKey];&amp;#10;   size_t cipherBufferSize = SecKeyGetBlockSize(key);&amp;#10;   uint8_t *cipherBuffer = malloc(cipherBufferSize * sizeof(uint8_t));&amp;#10;   size_t blockSize = cipherBufferSize - 11;&amp;#10;     size_t blockCount = (size_t)ceil([data length] / (double)blockSize);&amp;#10;     NSMutableData *encryptedData = [[NSMutableData alloc] init];&amp;#10;   for (int i=0; i&amp;#60;blockCount; i++) &amp;#123;&amp;#10;   unsigned long bufferSize = MIN(blockSize , [data length] - i * blockSize);&amp;#10;   NSData *buffer = [data subdataWithRange:NSMakeRange(i * blockSize, bufferSize)];&amp;#10;   OSStatus status = SecKeyEncrypt(key, kSecPaddingPKCS1, (const uint8_t *)[buffer bytes], [buffer length], cipherBuffer, &amp;#38;cipherBufferSize);&amp;#10;&amp;#10;   if (status != noErr) &amp;#123;&amp;#10;       return nil;&amp;#10;   &amp;#125;&amp;#10;&amp;#10;   NSData *encryptedBytes = [[NSData alloc] initWithBytes:(const void *)cipherBuffer length:cipherBufferSize];&amp;#10;   [encryptedData appendData:encryptedBytes];&amp;#10;   &amp;#125;&amp;#10;&amp;#10; if (cipherBuffer)&amp;#123;&amp;#10;   free(cipherBuffer);&amp;#10; &amp;#125;&amp;#10;&amp;#10; return encryptedData;&amp;#10; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
 &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; - (NSData*)rsaDecryptData:(NSData*)data &amp;#123;&amp;#10;SecKeyRef key = [self getPrivatKey];&amp;#10;&amp;#10;size_t cipherBufferSize = SecKeyGetBlockSize(key);&amp;#10;size_t blockSize = cipherBufferSize;&amp;#10;size_t blockCount = (size_t)ceil([data length] / (double)blockSize);&amp;#10;&amp;#10;NSMutableData *decryptedData = [[NSMutableData alloc] init];&amp;#10;&amp;#10;for (int i = 0; i &amp;#60; blockCount; i++) &amp;#123;&amp;#10;    unsigned long bufferSize = MIN(blockSize , [data length] - i * blockSize);&amp;#10;    NSData *buffer = [data subdataWithRange:NSMakeRange(i * blockSize, bufferSize)];&amp;#10;&amp;#10;    size_t cipherLen = [buffer length];&amp;#10;    void *cipher = malloc(cipherLen);&amp;#10;    [buffer getBytes:cipher length:cipherLen];&amp;#10;    size_t plainLen = SecKeyGetBlockSize(key);&amp;#10;    void *plain = malloc(plainLen);&amp;#10;&amp;#10;    OSStatus status = SecKeyDecrypt(key, kSecPaddingPKCS1, cipher, cipherLen, plain, &amp;#38;plainLen);&amp;#10;&amp;#10;    if (status != noErr) &amp;#123;&amp;#10;        return nil;&amp;#10;    &amp;#125;&amp;#10;&amp;#10;    NSData *decryptedBytes = [[NSData alloc] initWithBytes:(const void *)plain length:plainLen];&amp;#10;    [decryptedData appendData:decryptedBytes];&amp;#10;&amp;#125;&amp;#10;&amp;#10;return decryptedData;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;RSA_u52A0_u5BC6_u4E2D_u7684Padding&quot;&gt;&lt;a href=&quot;#RSA_u52A0_u5BC6_u4E2D_u7684Padding&quot; class=&quot;headerlink&quot; title=&quot;RSAåŠ å¯†ä¸­çš„Padding&quot;&gt;&lt;/a&gt;RSAåŠ å¯†ä¸­çš„Padding&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;RSA_PKCS1_PADDING å¡«å……æ¨¡å¼ï¼Œæœ€å¸¸ç”¨çš„æ¨¡å¼&lt;/p&gt;&lt;p&gt;&lt;br&gt;è¦æ±‚: è¾“å…¥ï¼šå¿…é¡» æ¯” RSA é’¥æ¨¡é•¿(modulus) çŸ­è‡³å°‘11ä¸ªå­—èŠ‚, ä¹Ÿå°±æ˜¯ã€€RSA_size(rsa) â€“ 11 å¦‚æœè¾“å…¥çš„æ˜æ–‡è¿‡é•¿ï¼Œå¿…é¡»åˆ‡å‰²ï¼Œç„¶åå¡«å……ã€‚&lt;/p&gt;&lt;p&gt;&lt;br&gt;è¾“å‡ºï¼šå’Œmodulusä¸€æ ·é•¿&lt;/p&gt;&lt;p&gt;&lt;br&gt;æ ¹æ®è¿™ä¸ªè¦æ±‚ï¼Œå¯¹äº1024bitçš„å¯†é’¥ï¼Œblock length = 1024/8 â€“ 11 = 117 å­—èŠ‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;RSA_PKCS1_OAEP_PADDING&lt;/p&gt;&lt;p&gt;&lt;br&gt;è¾“å…¥ï¼šRSA_size(rsa) â€“ 41&lt;/p&gt;&lt;p&gt;&lt;br&gt;è¾“å‡ºï¼šå’Œmodulusä¸€æ ·é•¿&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;RSA_NO_PADDINGã€€ã€€ä¸å¡«å……&lt;/p&gt;&lt;p&gt;&lt;br&gt;è¾“å…¥ï¼šå¯ä»¥å’ŒRSAé’¥æ¨¡é•¿ä¸€æ ·é•¿ï¼Œå¦‚æœè¾“å…¥çš„æ˜æ–‡è¿‡é•¿ï¼Œå¿…é¡»åˆ‡å‰²ï¼Œã€€ç„¶åå¡«å……&lt;/p&gt;&lt;p&gt;&lt;br&gt;è¾“å‡ºï¼šå’Œmodulusä¸€æ ·é•¿&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;u7B7E_u540D_u4E0E_u9A8C_u8BC1&quot;&gt;&lt;a href=&quot;#u7B7E_u540D_u4E0E_u9A8C_u8BC1&quot; class=&quot;headerlink&quot; title=&quot;ç­¾åä¸éªŒè¯&quot;&gt;&lt;/a&gt;ç­¾åä¸éªŒè¯&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; //&amp;#23545;&amp;#25968;&amp;#25454;&amp;#36827;&amp;#34892;sha256&amp;#31614;&amp;#21517;&amp;#10;- (NSData *)rsaSHA256SignData:(NSData *)plainData &amp;#123;&amp;#10;&amp;#160;    &amp;#160;SecKeyRef key = [self getPrivatKey];&amp;#10;&amp;#160;&amp;#160; &amp;#160;&amp;#10;&amp;#160; &amp;#160;   size_t signedHashBytesSize = SecKeyGetBlockSize(key);&amp;#10;&amp;#160; &amp;#160;   uint8_t* signedHashBytes = malloc(signedHashBytesSize);&amp;#10;&amp;#160; &amp;#160;   memset(signedHashBytes, 0x0, signedHashBytesSize);&amp;#10;&amp;#160;&amp;#160; &amp;#160;&amp;#10;&amp;#160; &amp;#160;   size_t hashBytesSize = CC_SHA256_DIGEST_LENGTH;&amp;#10;&amp;#160; &amp;#160;   uint8_t* hashBytes = malloc(hashBytesSize);&amp;#10;&amp;#160; &amp;#160;   if (!CC_SHA256([plainData bytes], (CC_LONG)[plainData length], hashBytes)) &amp;#123;&amp;#10;&amp;#160; &amp;#160; &amp;#160; &amp;#160; return nil;&amp;#10;&amp;#160; &amp;#160; &amp;#125;&amp;#10;&amp;#160;&amp;#160; &amp;#160;&amp;#10;&amp;#160; &amp;#160;        SecKeyRawSign(key,&amp;#10;&amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; kSecPaddingPKCS1SHA256,&amp;#10;&amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; hashBytes,&amp;#10;&amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; hashBytesSize,&amp;#10;&amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; signedHashBytes,&amp;#10;&amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#38;signedHashBytesSize);&amp;#10;&amp;#160;&amp;#160; &amp;#160;&amp;#10;&amp;#160; &amp;#160;     NSData* signedHash = [NSData dataWithBytes:signedHashBytes&amp;#10;&amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; length:(NSUInteger)signedHashBytesSize];&amp;#10;&amp;#160;&amp;#160; &amp;#160;&amp;#10;&amp;#160; &amp;#160;     if (hashBytes)&amp;#10;&amp;#160; &amp;#160; &amp;#160; &amp;#160; free(hashBytes);&amp;#10;&amp;#160; &amp;#160; if (signedHashBytes)&amp;#10;&amp;#160; &amp;#160; &amp;#160; &amp;#160; free(signedHashBytes);&amp;#10;&amp;#160;&amp;#160; &amp;#160;&amp;#10;&amp;#160; &amp;#160;     return signedHash;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#10;//&amp;#36825;&amp;#36793;&amp;#23545;&amp;#31614;&amp;#21517;&amp;#30340;&amp;#25968;&amp;#25454;&amp;#36827;&amp;#34892;&amp;#39564;&amp;#35777; &amp;#39564;&amp;#31614;&amp;#25104;&amp;#21151;&amp;#65292;&amp;#21017;&amp;#36820;&amp;#22238;YES&amp;#10;- (BOOL)rsaSHA256VerifyData:(NSData *)plainData     withSignature:(NSData *)signature &amp;#123;&amp;#10;&amp;#160; &amp;#160;     SecKeyRef key = [self getPublicKey];&amp;#10;  &amp;#10;&amp;#160;     &amp;#160; size_t signedHashBytesSize = SecKeyGetBlockSize(key);&amp;#10;&amp;#160; &amp;#160;     const void* signedHashBytes = [signature bytes];&amp;#10;&amp;#160;&amp;#160; &amp;#160;&amp;#10;&amp;#160; &amp;#160;     size_t hashBytesSize = CC_SHA256_DIGEST_LENGTH;&amp;#10;&amp;#160; &amp;#160;     uint8_t* hashBytes = malloc(hashBytesSize);&amp;#10;&amp;#160;     &amp;#160; if (!CC_SHA256([plainData bytes], (CC_LONG)[plainData length], hashBytes)) &amp;#123;&amp;#10;&amp;#160; &amp;#160; &amp;#160; &amp;#160;    return NO;&amp;#10;&amp;#160; &amp;#160;     &amp;#125;&amp;#10;&amp;#160;&amp;#160; &amp;#160;&amp;#10;&amp;#160; &amp;#160;       OSStatus status = SecKeyRawVerify(key,&amp;#10;&amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; kSecPaddingPKCS1SHA256,&amp;#10;&amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; hashBytes,&amp;#10;&amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; hashBytesSize,&amp;#10;&amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; signedHashBytes,&amp;#10;&amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; &amp;#160; signedHashBytesSize);&amp;#10;&amp;#160;&amp;#160; &amp;#160;&amp;#10;&amp;#160; &amp;#160;     return status == errSecSuccess;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;strong&gt;æ–‡ç« åˆ°æ­¤å°±ç»“æŸäº†ï¼Œå¸Œæœ›å¤§å®¶èƒ½å¤Ÿå–œæ¬¢ã€‚è¯·ç‚¹å‡»&lt;a href=&quot;https://github.com/PanXianyue/XYCryption&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Git&lt;/a&gt;è·å–ç›¸å…³demo&lt;/strong&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;çœ‹åˆ°è¿™ç¯‡æ–‡ç« çš„åŒå­¦å¯å¹¸ç¦äº†ï¼Œå½“æ—¶åœ¨åšRSAåŠ å¯†ä¸ç­¾åçš„æ—¶å€™ç½‘ä¸Šçš„èµ„æ–™ç®€ç›´ä¸è¦å¤ªè€ï¼Œåšå®Œåå®åœ¨æ˜¯å¿å—ä¸ä¸‹å»äº†ï¼Œè¿™ç¯‡æ–‡ç« æˆ‘ä¼šè¯¦ç»†è®²è§£iOSå¦‚ä½•å®ç°RSAåŠ å¯†ä¸ç­¾åï¼Œå¹¶ä¸”ä¸Javaå®Œå…¨åŒæ­¥ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
    
      <category term="RSAåŠ å¯†" scheme="http://yoursite.com/tags/RSA%E5%8A%A0%E5%AF%86/"/>
    
      <category term="SHAç­¾å" scheme="http://yoursite.com/tags/SHA%E7%AD%BE%E5%90%8D/"/>
    
  </entry>
  
</feed>
